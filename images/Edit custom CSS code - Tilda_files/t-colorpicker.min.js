(()=>{"use strict";const e=["https://front.tildacdn.com/plugins/sortable-lite/t-sortable-lite.min.js","https://front.tildacdn.com/plugins/sortable-lite/t-sortable-lite.min.css"],t={container:"tcolors",containerThemeDark:"tcolors_dark",input:"tcolors__input",swatch:"tcolors__swatch",panel:"tcolors-panel",panelThemeDark:"tcolors-panel_dark",gradient:"tcolors-gradient",clearBtn:"tcolors__clear-btn"},n={theme:"pe-tooltip_noir",contentAsHTML:!0,interactive:!1,minWidth:50,maxWidth:300,position:"top",delay:700},i={selector:`.${t.panel}__swatch`,handleSelector:`.${t.panel}__swatch`,autoScroll:{speedIndex:.4},isAutoUpdateEnabled:!0,dragImage:{zIndex:99999}},o={"document-color":"document_colors",swatches:"saved_colors",tilda:"tilda_colors","tilda-gradients":"tilda_gradients"},r="https://front.tildacdn.com/colors/colors/colors.json",s=2592e5,l=24,a=["blue","aqua","mintgreen","green","lightgreen","yellow","peach","orange","pink","red","purple","violet","darkgray","lightgray","grayshades"];var c=function(e,t,n,i){var o;t[0]=0;for(var r=1;r<t.length;r++){var s=t[r++],l=t[r]?(t[0]|=s?1:2,n[t[r++]]):t[++r];3===s?i[0]=l:4===s?i[1]=Object.assign(i[1]||{},l):5===s?(i[1]=i[1]||{})[t[++r]]=l:6===s?i[1][t[++r]]+=l+"":s?(o=e.apply(l,c(e,l,n,["",null])),i.push(o),l[0]?t[0]|=2:(t[r-2]=0,t[r]=o)):i.push(l)}return i},d=new Map;const h={EN:{solid:"Solid",linear:"Linear",radial:"Radial",document_colors:"Colors on page",saved_colors:"Saved colors",tilda_colors:"Colors library",tilda_gradients:"Gradients library",save_color:"Save color",pick_color:"Pick color from screen",apply:"Apply",clear:"Clear",contrast_ratio:"Contrast",contrast_hint:"The contrast ratio gauges the level of accessibility of your website for individuals with visual impairments. A satisfactory contrast ratio is determined by the colors used for the foreground and background, as well as the size and weight of the font.",angle:"Angle",copied:"Copied",loading:"Loading...",load_error:"Load error",close:"Close panel"},RU:{solid:"Сплошной цвет",linear:"Линейный градиент",radial:"Радиальный градиент",document_colors:"Цвета на странице",saved_colors:"Сохранённые цвета",tilda_colors:"Библиотека цветов",tilda_gradients:"Библиотека градиентов",save_color:"Сохранить цвет",pick_color:"Выбрать цвет с экрана",apply:"Применить",clear:"Очистить",contrast_ratio:"Контраст",contrast_hint:"Коэффициент цветового контраста позволяет оценить доступность вашего сайта для людей с нарушением зрения. Он зависит от цвета текста и фона, а также от размера и насыщенности текста.",angle:"Угол",copied:"Скопировано",loading:"Загрузка...",load_error:"Ошибка загрузки",close:"Закрыть панель"}};const p=function(e){var t=d.get(this);return t||(t=new Map,d.set(this,t)),(t=c(this,t.get(e)||(t.set(e,t=function(e){for(var t,n,i=1,o="",r="",s=[0],l=function(e){1===i&&(e||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?s.push(0,e,o):3===i&&(e||o)?(s.push(3,e,o),i=2):2===i&&"..."===o&&e?s.push(4,e,0):2===i&&o&&!e?s.push(5,0,!0,o):i>=5&&((o||!e&&5===i)&&(s.push(i,0,o,n),i=6),e&&(s.push(i,e,0,n),i=6)),o=""},a=0;a<e.length;a++){a&&(1===i&&l(),l(a));for(var c=0;c<e[a].length;c++)t=e[a][c],1===i?"<"===t?(l(),s=[s],i=3):o+=t:4===i?"--"===o&&">"===t?(i=1,o=""):o=t+o[0]:r?t===r?r="":o+=t:'"'===t||"'"===t?r=t:">"===t?(l(),i=1):i&&("="===t?(i=5,n=o,o=""):"/"===t&&(i<5||">"===e[a][c+1])?(l(),3===i&&(s=s[0]),i=s,(s=s[0]).push(2,0,i),i=0):" "===t||"\t"===t||"\n"===t||"\r"===t?(l(),i=2):o+=t),3===i&&"!--"===o&&(i=4,s=s[0])}return l(),s}(e)),t),arguments,[])).length>1?t:t[0]}.bind((function(e,t){this[0]=3;for(var i=arguments.length,o=new Array(i>2?i-2:0),r=2;r<i;r++)o[r-2]=arguments[r];if("function"==typeof e){const n=new e(t).render();return n.append(...o.flat()),n}if("string"==typeof e){const i=["svg","circle"].includes(e)?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return t&&Object.entries(t).forEach((e=>{let[t,o]=e;if(t.startsWith("on"))Array.isArray(o)?o.forEach((e=>i.addEventListener(t.substring(2).toLowerCase(),e))):i.addEventListener(t.substring(2).toLowerCase(),o);else if("className"===t)i.classList.add(...o.split(" "));else if("tooltip"===t)!function(e,t){if("function"!=typeof window.tooltipster||window.matchMedia("(hover: none)").matches)return;window.tooltipster([e],{...n,content:t})}(i,o);else if("bindTo"===t){if(Array.isArray(o)){const[e,t]=o;e&&"object"==typeof e&&"string"==typeof t&&(e[t]=i)}}else["string","number"].includes(typeof o)?i.setAttribute(t,o):"boolean"==typeof o&&o&&i.setAttribute(t,"")})),i.append(...o.flat()),i}if(e instanceof Element)return e}));function u(){const e=[];return{on:t=>{e.push(t)},trigger:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e.forEach((e=>e(...n)))}}}function g(e){const t=(Array.isArray(e)?e:[e]).map((e=>{const t=e.split(".").pop(),n=e+(window.ver?"?v="+window.ver:"");return["js","css"].includes(t)?function(e,t){return new Promise(((n,i)=>{const o="style"===t,r=o?"link":"script",s=o?"href":"src";let l;try{const{pathname:t}=new URL(e,window.location.href);l=t}catch(t){l=e}const a=document.querySelector(`${r}[${s}*="${l}"]`);if(a)return"true"===a.getAttribute("data-loading")?(a.addEventListener("load",n),void a.addEventListener("error",i)):n();const c=document.createElement(r);c.setAttribute(s,e),o&&c.setAttribute("rel","stylesheet"),c.setAttribute("data-loading","true"),c.addEventListener("load",(()=>(c.removeAttribute("data-loading"),n()))),c.addEventListener("error",(()=>(document.head.removeChild(c),i()))),document.head.appendChild(c)}))}(n,"js"===t?"script":"style"):Promise.reject("Unknown resource extension. Make sure the resource url ends with .css or .js")}));return Promise.all(t)}function m(e,t,n){return(n||h)[t][e]||(n||h).EN[e]||e}function y(e,t){let n=null;return function(){for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];n||(n=window.setTimeout((()=>{e.apply(null,o),window.clearTimeout(n),n=null}),t))}}function f(e,t){if(!e)return[0,0,0];const n=(n=>{if(!t){const t=function(e){if(e.toLowerCase().includes("gradient"))return null;const t=document.createElement("div");t.style.position="fixed",t.style.top="-9999px",t.style.left="-9999px",t.style.width="0px",t.style.height="0px";const n="rgb(1, 1, 1)";t.style.color=n,t.style.color=e,document.body.appendChild(t);let i=window.getComputedStyle(t).getPropertyValue("color");return t.remove(),i===n?null:i}(n);t&&(n=t,e=t)}return n.startsWith("rgba")?"rgba":n.startsWith("rgb")?"rgb":n.startsWith("hsl")?"hsl":"hex"})(e=String(e).toLowerCase());return"rgb"===n?(e=>{let t=e.replace(/[^0-9,.]/g,"").split(",");return t.splice(3,t.length),t.length?(t=t.map((e=>{const t=parseFloat(e)||0;return t>255?255:t})),1===t.length&&t.push(0,0),2===t.length&&t.push(0),C(t)):[0,0,0]})(e):"rgba"===n?(e=>{let t=e.replace(/[^0-9,.]/g,"").split(",");return t.splice(4,t.length),t.length?(1===t.length&&t.push(0,0,1),2===t.length&&t.push(0,1),3===t.length&&t.push(1),t=t.map(((e,t)=>{if(3===t){let t=parseFloat(e);return t=V(t)?t:1,t=t>1?1:t<0?0:t,t}{let t=parseInt(e,10)||0;return t=t>255?255:t<0?0:t,t}})),t[3]=parseFloat(t[3].toFixed(2)),[...C([t[0],t[1],t[2]]),t[3]]):[0,0,0,1]})(e):"hsl"===n?(e=>{let t=e.replace(/[^0-9,.]/g,"").split(",");return t.splice(3,t.length),t.length?(t=t.map(((e,t)=>{const n=parseFloat(e)||0;return t?n>100?1:n/100:n>360?1:n/360})),1===t.length&&t.push(0,0),2===t.length&&t.push(0),t):[0,0,0]})(e):"hex"===n?(e=>{let t=e.replace(/[^0-9a-fA-F]/g,"").substring(0,6).toLowerCase();return t.length?6===t.length?w(t):(t.length>3&&(t=t.substring(0,3)),t.length<3?(t=t.padEnd(6,t),w(t)):w(t[0]+t[0]+t[1]+t[1]+t[2]+t[2])):w("000000")})(e):[0,0,0]}function v(e,t){if(!e)return!1;return(e=String(e).toLowerCase().replace(/\s{2,}/g,"").replace(/^\s/,"").replace(/\s$/,"")).startsWith("linear-gradient")?(e=>{let n=e.match(/^linear-gradient\((.+)\)$/);if(!n)return!1;if(n=n[1],!n)return!1;const i=n.split(/,(?![^(]*\))/);if(i.length<2)return!1;let o,r=i[0];if(r.includes("deg")||r.includes("turn")||r.includes("rad")){const e=r.includes("deg")?"deg":r.includes("turn")?"turn":"rad";r=r.replace(/\s/g,"").replace(/[a-z]/g,""),r=parseFloat(r),r=V(r)?r:0,"deg"===e&&(r/=360),"rad"===e&&(r/=2*Math.PI),r=r>=0&&r<=1?r:1,o=i.splice(1)}else r=0,o=i;let s=!1;return o.splice(15),o=o.map(((e,n)=>{const i=(e=e.replace(/^\s/,"").replace(/\s$/,"")).split(/\s(?![^(]*\))/);if(i.length>2)return void(s=!0);let r,l=f(i[0],t),a=1;return 4===l.length&&(a=l[3],l.splice(3)),i[1]?(r=i[1].replace(/[^0-9.]/g,""),r=parseFloat(r),r=V(r)&&r>=0&&r<=100?r:0,r/=100):r=n/(o.length-1),{color:l,position:r,opacity:a}})),!s&&(r=parseFloat(r.toFixed(3)),{type:"linear",stops:o,angle:r})})(e):!!e.startsWith("radial-gradient")&&(e=>{const n=e.match(/^radial-gradient\((.+)\)$/)[1];if(!n)return!1;const i=n.split(/,(?![^(]*\))/);if(i.length<2)return!1;let o;o=i[0].includes("circle")||i[0].includes("ellipse")||i[0].includes("side")||i[0].includes("corner")?i.splice(1):i;let r=!1;return o.splice(15),o=o.map(((e,n)=>{const i=(e=e.replace(/^\s/,"").replace(/\s$/,"")).split(/\s(?![^(]*\))/);if(i.length>2)return void(r=!0);let s,l=f(i[0],t),a=1;return 4===l.length&&(a=l[3],l.splice(3)),i[1]?(s=i[1].replace(/[^0-9.]/g,""),s=parseFloat(s),s=V(s)&&s>=0&&s<=100?s:0,s/=100):s=n/(o.length-1),{color:l,position:s,opacity:a}})),!r&&{type:"radial",stops:o,angle:0}})(e)}function $(e){e=e.replace(/#/g,"");return[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16)]}function w(e){return C($(e))}function b(e){let[t,n,i]=e;t*=360;const o=(1-Math.abs(2*i-1))*n,r=t/60,s=o*(1-Math.abs(r%2-1));let l;l=r>=0&&r<1?[o,s,0]:r>=1&&r<2?[s,o,0]:r>=2&&r<3?[0,o,s]:r>=3&&r<4?[0,s,o]:r>=4&&r<5?[s,0,o]:[o,0,s];const a=i-o/2,[c,d,h]=l;let[p,u,g]=[c+a,d+a,h+a];return p=Math.round(255*p),u=Math.round(255*u),g=Math.round(255*g),[p,u,g]}function _(e){const t=b(e);let n=V(e[3])&&e[3]>=0&&e[3]<=1?e[3]:1;return n=parseFloat(n.toFixed(2)),[...t,n]}function T(e){return e.map((e=>{const t=Number(e).toString(16);return 1===t.length?"0"+t:t})).join("")}function E(e){return T(b(e))}function C(e){let[t,n,i]=e;t/=255,n/=255,i/=255;const o=Math.max(t,n,i),r=Math.min(t,n,i),s=o-r;let l,a,c=(o+r)/2;return 0===s?l=0:o===t?l=(n-i)/s%6*60:o===n?l=60*((i-t)/s+2):o===i&&(l=60*((t-n)/s+4)),a=0===c||1===c?0:(o-c)/Math.min(c,1-c),l/=360,l<0&&(l+=1),l=parseFloat(l.toFixed(4)),a=parseFloat(a.toFixed(4)),c=parseFloat(c.toFixed(4)),[l,a,c]}function k(e){let[t,n,i]=e,o=i*(1-n/2),r=0===o||1===o?0:(i-o)/Math.min(o,1-o);return t=parseFloat(t.toFixed(4)),r=parseFloat(r.toFixed(4)),o=parseFloat(o.toFixed(4)),[t,r,o]}function P(e){let[t,n,i]=e,o=i+n*Math.min(i,1-i),r=0===o?0:2*(1-i/o);return t=parseFloat(t.toFixed(4)),r=parseFloat(r.toFixed(4)),o=parseFloat(o.toFixed(4)),[t,r,o]}function S(e){const[t,n,i]=b(e).map((e=>(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)));return.2126*t+.7152*n+.0722*i}function D(e,t){const n=b(e),i=V(t)&&t>=0&&t<=1?t:1;return`rgba(${n.join(",")},${i})`}function L(e,t){if(!e)return"";const n=t?"linear":e.type,i=e.stops.map((e=>`${D(e.color,e.opacity)} ${Math.round(100*e.position)}%`)).join(",");return"linear"===n?`linear-gradient(${t?.25:e.angle}turn,${i})`:"radial"===n?`radial-gradient(circle at center,${i})`:void 0}function x(e,t,n){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(V(n)&&1!==n&&!t&&(t=[0,0,0]),e.gradient&&Array.isArray(e.gradient.stops)&&e.gradient.stops.length&&i){const i=e.gradient.stops.find((e=>{let{active:t}=e;return t}))||e.gradient.stops[0];i.color=t?[...t]:[0,0,0],i.opacity=n}else e.gradient=null;e.color=t,e.opacity=n}function M(e,t,n,i){const o=t&&!n,r=window.getComputedStyle(e),s=[],l=r.getPropertyValue("opacity"),a=r.getPropertyValue("display"),c=r.getPropertyValue("visibility");if("0"===l||"none"===a||"hidden"===c)return s;const d=r.getPropertyValue("background-color"),h=r.getPropertyValue("color"),p=r.getPropertyValue("background-image"),u=r.getPropertyValue("border-color"),g=r.getPropertyValue("border-style"),m=r.getPropertyValue("box-shadow").replace(/\).*/,")");if("none"!==d&&"rgba(0, 0, 0, 0)"!==d){const e=_(f(d,!0)),t=e[3];(o||1===t)&&s.push("rgba("+e.join(",")+")")}if("none"!==p&&!p.startsWith("url")){const e=v(p,!0);if(e&&i){const t=L(e);s.push(t)}}if("none"!==h&&"rgba(0, 0, 0, 0)"!==h&&e.childNodes.length){const e=_(f(h,!0)),t=e[3];(o||1===t)&&s.push("rgba("+e.join(",")+")")}if("none"!==u&&"rgba(0, 0, 0, 0)"!==u&&"none"!==g){const e=_(f(u,!0)),t=e[3];(o||1===t)&&s.push("rgba("+e.join(",")+")")}if("none"!==m&&"rgba(0, 0, 0, 0)"!==m){const e=_(f(m,!0)),t=e[3];(o||1===t)&&s.push("rgba("+e.join(",")+")")}return s}function O(e,t){const{endX:n,endY:i}=e,o=t.scrollLeft,r=t.scrollTop;let s;const l=e=>{void 0===s&&(s=performance.now());const a=(c=(e-s)/300)<.5?4*c*c*c:1-Math.pow(-2*c+2,3)/2;var c;t.scrollLeft=o+a*(n-o),t.scrollTop=r+a*(i-r),a<1?requestAnimationFrame(l):(t.scrollLeft=n,t.scrollTop=i)};requestAnimationFrame(l)}function U(e,t){if(e.includes("gradient")){const n=v(e,!0),i=n.stops[0]?n.stops[0].color:null,o=n.stops[0]?n.stops[0].opacity:null,r=n.stops[n.stops.length-1]?n.stops[n.stops.length-1].color:null,s=n.stops[n.stops.length-1]?n.stops[n.stops.length-1].opacity:null,l=n.type;if(!(i&&V(o)&&r&&V(s)&&l))return"";const a="#"+E(i).toUpperCase(),c="#"+E(r).toUpperCase(),d=1===o?"":Math.floor(100*o)+"% ",h=1===s?"":Math.floor(100*s)+"% ";return(m(l,t)+"<br>"+a+" "+d+"→ "+(n.stops.length>2?"... → ":"")+c+" "+h).trim()}const n=f(e,!0),i=V(n[3])?n[3]:1;return"#"+E(n).toUpperCase()+(1===i?"":" "+Math.floor(100*i)+"%")}function N(e,t,n){return Math.max(e,Math.min(t,n))}function V(e){return"number"==typeof e&&!isNaN(e)}function W(e,t){if("string"!=typeof e&&!V(e))return[t,t,t,t];const n=V(e)?[e]:e.trim().replace(/\s{2,}/g," ").split(" ").map((e=>{const n=parseInt(e,10);return V(n)?n:t}));return n.splice(4),n.length?1===n.length?[n[0],n[0],n[0],n[0]]:2===n.length?[n[0],n[1],n[0],n[1]]:3===n.length?[n[0],n[1],n[2],n[1]]:n:[t,t,t,t]}function A(e){const t=e=>{if(!e)return!1;const t=window.getComputedStyle(e),n=["auto","scroll"].includes(t.overflowX),i=["auto","scroll"].includes(t.overflowX),{offsetHeight:o,scrollHeight:r,offsetWidth:s,scrollWidth:l}=e;return l>s&&n||r>o&&i};e.addEventListener("wheel",(n=>{const{deltaX:i,deltaY:o,target:r}=n,s=(n=>{let i=n;for(;!t(i)&&(i=i.parentElement,i!==e&&i!==document.documentElement););return i})(r);let l;var a;l=Math.abs(i)>Math.abs(o)?"horizontal":Math.abs(i)<Math.abs(o)?"vertical":"both",(["vertical","both"].includes(l)&&((a=s)&&0===a.scrollTop&&o<0||(e=>e&&Math.ceil(e.scrollTop+e.clientHeight)>=e.scrollHeight)(s)&&o>0)||["horizontal","both"].includes(l)&&((e=>e&&0===e.scrollLeft)(s)&&i<0||(e=>e&&Math.ceil(e.scrollLeft+e.clientWidth)>=e.scrollWidth)(s)&&i>0))&&n.preventDefault()}),{passive:!1})}function I(e,t){const n=["left","right","top","bottom"];return Array.isArray(e)?(e=e.filter((e=>n.includes(e))),(e=[...new Set(e)]).length?(e.splice(4),e):t):n.includes(e)?[e]:t}function G(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function F(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var R=new WeakSet,j=new WeakSet,B=new WeakSet,z=new WeakSet,K=new WeakSet;class H{constructor(e){G(this,K),G(this,z),G(this,B),G(this,j),G(this,R),this.props=e,this.elements={},this.props.colorUpdateTrigger.on(F(this,K,Z).bind(this)),this.props.colorModeUpdateTrigger.on(F(this,K,Z).bind(this)),this.props.panelToggleTrigger.on(F(this,z,J).bind(this)),this.handlePointerMove=this.handlePointerMove.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this)}render(){const e=p`
            <div className=${`${t.panel}__area`} onPointerDown=${F(this,R,X).bind(this)}>
                <div className=${`${t.panel}__area-inner`}></div>
                <div
                    className=${`${t.panel}__area-picker`}
                    style="display:none;"
                    tabindex="0"
                    onKeyDown=${F(this,B,Y).bind(this)}
                    bindTo=${[this.elements,"picker"]}
                ></div>
            </div>
        `;this.elements.container=e,setTimeout(F(this,K,Z).bind(this),0);const{bindTo:n}=this.props;if(n){const[t,i]=n;t[i]=e}return e}handlePointerMove(e){const{clientX:t,clientY:n}=e;F(this,j,q).call(this,t,n)}handlePointerUp(){document.removeEventListener("pointermove",this.handlePointerMove),document.removeEventListener("pointerup",this.handlePointerUp),document.documentElement.style.removeProperty("user-select"),document.documentElement.style.removeProperty("-webkit-user-select")}}function X(e){const{clientX:t,clientY:n}=e;F(this,j,q).call(this,t,n),document.addEventListener("pointermove",this.handlePointerMove),document.addEventListener("pointerup",this.handlePointerUp),document.documentElement.style.userSelect="none",document.documentElement.style.webkitUserSelect="none"}function q(e,t){const n=this.elements.container.getBoundingClientRect(),{mode:i}=this.props.colorMode,{left:o,top:r,width:s,height:l}=n,{color:a,opacity:c}=this.props.currentValues,d=r+l,h=N(0,(e-o)/(o+s-o),1),p=N(0,(t-r)/(d-r),1),u=a&&a[0]||0,g=h;if("hsl"===i||1===p){const e=1-p;x(this.props.currentValues,[u,g,e],c)}else{const e=1-p;x(this.props.currentValues,k([u,g,e]),c)}this.props.colorChangeTrigger.trigger()}function Y(e){const{key:t}=e;if(!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(t))return;e.preventDefault();const n=e.shiftKey?.05:.01,{mode:i}=this.props.colorMode,{color:o,opacity:r}=this.props.currentValues;if(o){if("hsl"===i){let[e,i,s]=o;"ArrowUp"===t?(s+=n,s=s>1?1:s):"ArrowRight"===t?(i+=n,i=i>1?1:i):"ArrowDown"===t?(s-=n,s=s<0?0:s):"ArrowLeft"===t&&(i-=n,i=i<0?0:i),x(this.props.currentValues,[e,i,s],r)}else{let[e,i,s]=P(o);"ArrowUp"===t?(s+=n,s=s>1?1:s):"ArrowRight"===t?(i+=n,i=i>1?1:i):"ArrowDown"===t?(s-=n,s=s<0?0:s):"ArrowLeft"===t&&(i-=n,i=i<0?0:i),x(this.props.currentValues,k([e,i,s]),r)}this.props.colorChangeTrigger.trigger()}}function J(e){if(e)return F(this,K,Z).call(this);document.removeEventListener("pointermove",this.handlePointerMove),document.removeEventListener("pointerup",this.handlePointerUp),document.documentElement.style.removeProperty("user-select"),document.documentElement.style.removeProperty("-webkit-user-select")}function Z(){const{mode:e}=this.props.colorMode,{container:n,picker:i}=this.elements,{color:o}=this.props.currentValues;if(n.classList.toggle(`${t.panel}__area_hsl`,"hsl"===e),!o)return n.style.setProperty("--current-hue","0turn"),i.style.removeProperty("transform"),void(i.style.display="none");i.style.removeProperty("display");const[r,s,l]=o,[,a,c]=P(o);n.style.setProperty("--current-hue",`${r}turn`);const{width:d,height:h}=n.getBoundingClientRect(),p="hsl"===e||0===c&&0!==s?d*s:d*a,u="hsl"===e?h*(1-l):h*(1-c);i.style.transform=`translate(${p}px,${u}px)`}class Q{constructor(e){this.props=e}render(){const{className:e,hintText:n,label:i,bindTo:o}=this.props;let r=`${t.panel}__hint`;if(e&&(r+=` ${e}`),this.element=p`
            <div className=${r} tooltip=${n}>${i}</div>
        `,o){const[e,t]=o;e[t]=this.element}return this.element}}function ee(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function te(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var ne=new WeakSet,ie=new WeakSet;class oe{constructor(e){ee(this,ie),ee(this,ne),this.props=e,this.elements={},this.props.panelToggleTrigger.on(te(this,ie,se).bind(this)),this.props.colorUpdateTrigger.on(te(this,ne,re).bind(this))}render(){const{lang:e}=this.props,n=p`
            <div className=${`${t.panel}__contrast`} style="display:none;">
                <div className=${`${t.panel}__contrast-label`}>${m("contrast_ratio",e)}</div>
                <${Q}
                    className=${`${t.panel}__hint_contrast`}
                    hintText=${m("contrast_hint",e)}
                    label="?"
                />
                <div className=${`${t.panel}__contrast-rate`} bindTo=${[this.elements,"rateElement"]}></div>
                <div className=${`${t.panel}__contrast-value`} bindTo=${[this.elements,"valueElement"]}></div>
            </div>
        `;return this.elements.container=n,n}}function re(){const{color:e,gradient:n}=this.props.currentValues,{bgColor:i,isLargeTxt:o}=this,r=n||!e||!i,{container:s,rateElement:l,valueElement:a}=this.elements;if(r)return void(s.style.display="none");s.style.removeProperty("display");const c=function(e,t){const n=S(e),i=S(t),o=(Math.max(n,i)+.05)/(Math.min(n,i)+.05);return parseFloat(o.toFixed(2))}(e,i);let d="Fail";o&&c>=4.5||c>=7?d="AAA":(o&&c>=3||c>=4.5)&&(d="AA"),l.innerText=d,a.innerText=c,l.classList.toggle(`${t.panel}__contrast-rate_fail`,"Fail"===d)}function se(e){if(e){const e=function(e){let t=e.name;if(!["text_color","title_color","descr_color","subtitle_color"].includes(t))return null;t=t.replace("_color","");const n=e.closest("[data-rec-id]");if(!n)return null;const i=n.getAttribute("data-rec-id");return document.querySelector(`#rec${i} [field="${t}"]`)||null}(this.props.input);this.bgColor=function(e){if(!e)return null;let t=e,n=null;for(;t;){const e=window.getComputedStyle(t),i=e.getPropertyValue("background-color"),o=e.getPropertyValue("background-image");if("rgba(0, 0, 0, 0)"!==i&&"none"===o){n=f(i,!0);break}if("none"!==o)break;t=t.parentElement}return n}(e),this.isLargeTxt=function(e){if(!e)return!1;const t=window.getComputedStyle(e),n=t.getPropertyValue("font-size").replace(/[^0-9]/g,""),i=t.getPropertyValue("font-weight");return n>=24||n>=18.66&&i>=700}(e),te(this,ne,re).call(this)}}function le(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function ae(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var ce=new WeakSet,de=new WeakSet,he=new WeakSet,pe=new WeakSet;class ue{constructor(e){le(this,pe),le(this,he),le(this,de),le(this,ce),this.props=e,this.props.colorUpdateTrigger.on(ae(this,he,ye).bind(this))}render(){const{className:e,controls:n,isOpacityEnabled:i,isGradientOpacityOnly:o}=this.props,{gradient:r}=this.props.currentValues;let s=`${t.panel}__input`;e&&(s+=` ${e}`);let l="0";"opacity"===n&&(l="100"),"hex"===n&&(l="#000000");const a=i&&(o&&r||!o);return this.element=p`
            <input
                type="text"
                className=${s}
                maxlength=${"hex"===n?7:3}
                value=${ae(this,ce,ge).call(this)}
                placeholder=${l}
                onInput=${ae(this,de,me).bind(this)}
                onKeydown=${ae(this,pe,fe).bind(this)}
                onBlur=${ae(this,he,ye).bind(this)}
                style=${"opacity"!==n||a?void 0:"display:none;"}
            />
        `,this.element}}function ge(){const{controls:e,currentValues:t}=this.props,{opacity:n,color:i,gradient:o}=t;return i?"opacity"===e?V(n)?Math.round(100*n):"":"angle"===e?o&&V(o.angle)?Math.round(360*o.angle):"":"hex"===e?`#${E(i).toUpperCase()}`:"hue"===e?Math.round(360*i[0]):"saturation"===e?Math.round(100*i[1]):"luma"===e?Math.round(100*i[2]):"red"===e?b(i)[0]:"green"===e?b(i)[1]:"blue"===e?b(i)[2]:"":""}function me(){const{controls:e,currentValues:t,colorChangeTrigger:n}=this.props,{color:i,gradient:o}=t,{value:r}=this.element;if("opacity"===e){const e=parseInt(r,10);t.opacity=V(e)?N(0,e/100,1):null}if("angle"===e){const e=parseInt(r,10);if(!o)return;o.angle=V(e)?parseFloat(N(0,e/360,1).toFixed(3)):0}if("hex"===e){const e=r.replace(/[^0-9A-Za-z]/g,""),n=f(r);4===n.length&&n.pop(),t.color=e&&r?n:null}if("hue"===e){const e=i||[0,0,0],n=parseInt(r,10);e[0]=V(n)?parseFloat(N(0,n/360,1).toFixed(3)):0,t.color=e}if("saturation"===e){const e=i||[0,0,0],n=parseInt(r,10);e[1]=V(n)?N(0,n/100,1):0,t.color=e}if("luma"===e){const e=i||[0,0,0],n=parseInt(r,10);e[2]=V(n)?N(0,n/100,1):0,t.color=e}if("red"===e){const e=b(i||[0,0,0]),n=parseInt(r,10);e[0]=V(n)?N(0,n,255):0,t.color=C(e)}if("green"===e){const e=b(i||[0,0,0]),n=parseInt(r,10);e[1]=V(n)?N(0,n,255):0,t.color=C(e)}if("blue"===e){const e=b(i||[0,0,0]),n=parseInt(r,10);e[2]=V(n)?N(0,n,255):0,t.color=C(e)}x(t,t.color,t.opacity),n.trigger()}function ye(e){const{controls:t,isGradientOpacityOnly:n,currentValues:i,colorChangeTrigger:o,isOpacityEnabled:r}=this.props;if("opacity"===t&&!r)return;const s=e&&e.forceUpdate;document.activeElement===this.element&&!s||(this.element.value=ae(this,ce,ge).call(this),"opacity"===t&&n&&!i.gradient?(this.element.style.display="none",V(i.opacity)&&(i.opacity=null,o.trigger())):"opacity"===t&&this.element.style.removeProperty("display"))}function fe(e){const{key:t}=e,{controls:n,currentValues:i,colorChangeTrigger:o}=this.props,{color:r,opacity:s,gradient:l}=i;if("Enter"===t&&e.preventDefault(),["ArrowUp","ArrowDown"].includes(t)){if("hex"===n)return;e.preventDefault();const a="ArrowUp"===t?1:-1;if("opacity"===n){const e=V(s)?s:1;i.opacity=N(0,e+.01*a,1)}if("angle"===n){if(!l)return;const e=l.angle||0;l.angle=parseFloat(N(0,e+1/360*a,1).toFixed(3))}if("hue"===n){const e=r||[0,0,0];e[0]=parseFloat(N(0,e[0]+1/360*a,1).toFixed(3)),i.color=e}if("saturation"===n){const e=r||[0,0,0];e[1]=N(0,e[1]+.01*a,1),i.color=e}if("luma"===n){const e=r||[0,0,0];e[2]=N(0,e[2]+.01*a,1),i.color=e}if("red"===n){const e=b(r||[0,0,0]);e[0]=N(0,e[0]+1*a,255),i.color=C(e)}if("green"===n){const e=b(r||[0,0,0]);e[1]=N(0,e[1]+1*a,255),i.color=C(e)}if("blue"===n){const e=b(r||[0,0,0]);e[2]=N(0,e[2]+1*a,255),i.color=C(e)}x(i,i.color,i.opacity),o.trigger({forceUpdate:!0})}}function ve(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function $e(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var we=new WeakSet,be=new WeakSet,_e=new WeakSet,Te=new WeakSet,Ee=new WeakSet,Ce=new WeakSet,ke=new WeakSet;class Pe{constructor(e){ve(this,ke),ve(this,Ce),ve(this,Ee),ve(this,Te),ve(this,_e),ve(this,be),ve(this,we),this.props=e,this.elements={},this.props.colorUpdateTrigger.on($e(this,be,De).bind(this)),this.props.panelToggleTrigger.on($e(this,ke,Ue).bind(this)),this.handleDocumentPointerMoveMarker=this.handleDocumentPointerMoveMarker.bind(this),this.handleDocumentPointerMoveAngle=this.handleDocumentPointerMoveAngle.bind(this),this.handleDocumentPointerUp=this.handleDocumentPointerUp.bind(this)}render(){const{currentValues:e,colorChangeTrigger:n,colorUpdateTrigger:i,lang:o}=this.props,{gradient:r}=e,s=L(r,!0),l=r&&r.angle||0,a=p`
            <div className=${`${t.panel}__gradients`} style=${r?void 0:"display:none"}>
                <div className=${`${t.panel}__gradient-wrapper`}>
                    <div
                        className=${`${t.gradient}${r&&r.stops.length>=15?` ${t.gradient}_disabled`:""}`}
                        style=${`--current-gradient:${s};`}
                        onClick=${$e(this,Ce,Oe).bind(this)}
                        bindTo=${[this.elements,"gradientLine"]}
                    >
                        ${$e(this,we,Se).call(this)}
                    </div>
                    <div
                        className=${`${t.panel}__angle`}
                        style=${r&&"linear"!==r.type?"display:none;":void 0}
                        bindTo=${[this.elements,"angleContainer"]}
                    >
                        <label className=${`${t.panel}__angle-label`}>
                            <span className=${`${t.panel}__angle-span`}>${m("angle",o)}</span>
                            <${ue}
                                className=${`${t.panel}__angle-input`}
                                controls="angle"
                                currentValues=${e}
                                colorChangeTrigger=${n}
                                colorUpdateTrigger=${i}
                            />
                        </label>
                        <div
                            className=${`${t.panel}__angle-picker`}
                            style=${`--angle:${l}turn;`}
                            onPointerdown=${$e(this,_e,Le).bind(this)}
                            onClick=${this.handleDocumentPointerMoveAngle}
                            bindTo=${[this.elements,"anglePicker"]}
                        ></div>
                    </div>
                </div>
            </div>
        `;return this.elements.container=a,a}handleDocumentPointerMoveMarker(e){const{gradient:t}=this.props.currentValues;if(!t||!t.stops.length)return;const{clientX:n,shiftKey:i}=e;if(this.pointerDownStartPos&&Math.abs(this.pointerDownStartPos-n)<5)return;this.pointerDownStartPos=null;const{gradientLine:o}=this.elements,{left:r,width:s}=o.getBoundingClientRect();let l=N(0,(n-r)/(r+s-r),1);l=parseFloat(l.toFixed(i?1:3));const{stops:a}=t,c=a.find((e=>{let{active:t}=e;return t}))||a[0];if(!i){const e=a.indexOf(c),t=e>0?a[e-1]:null,n=e<a.length-1?a[e+1]:null,i=.03;t&&Math.abs(l-t.position)<i?l=t.position:n&&Math.abs(l-n.position)<i&&(l=n.position)}c.position=l,a.sort(((e,t)=>e.position-t.position)),this.props.colorChangeTrigger.trigger()}handleDocumentPointerMoveAngle(e){const{gradient:t}=this.props.currentValues;if(!t)return;const{clientX:n,clientY:i,shiftKey:o}=e,{anglePicker:r}=this.elements,{left:s,top:l,width:a,height:c}=r.getBoundingClientRect(),d=n-(s+a/2),h=-1*(i-(l+c/2));let p=180*Math.atan(d/h)/Math.PI;if(h<0?p+=180:d<0&&(p+=360),o){const e=15;p=Math.round(p/e)*e}p=N(0,p/360,1),p=parseFloat(p.toFixed(3)),t.angle=p,this.props.colorChangeTrigger.trigger()}handleDocumentPointerUp(){document.removeEventListener("pointermove",this.handleDocumentPointerMoveMarker),document.removeEventListener("pointermove",this.handleDocumentPointerMoveAngle),document.removeEventListener("pointerup",this.handleDocumentPointerUp),document.documentElement.style.removeProperty("user-select"),document.documentElement.style.removeProperty("-webkit-user-select");const{gradientLine:e}=this.elements,n=e.querySelector(`.${t.gradient}__marker_selected`);n&&n.focus()}}function Se(){const{gradient:e}=this.props.currentValues;if(!e||!e.stops.length)return"";return e.stops.find((e=>{let{active:t}=e;return t}))||(e.stops[0].active=!0),e.stops.map(((e,n)=>{let{color:i,position:o,opacity:r,active:s}=e;const l=_([...i,r]);return p`
                <div
                    className=${`${t.gradient}__marker${s?` ${t.gradient}__marker_selected`:""}`}
                    style=${`left:${100*o}%;--marker-color:rgba(${l.join(",")});`}
                    onPointerdown=${$e(this,Te,xe).bind(this)}
                    onKeyDown=${$e(this,Ee,Me).bind(this)}
                    tabindex=${s?0:void 0}
                    data-index=${n}
                >
                    <div className=${`${t.gradient}__marker-inner`}></div>
                </div>
            `}))}function De(){const{gradientLine:e,anglePicker:n,container:i,angleContainer:o}=this.elements,{gradient:r}=this.props.currentValues;if(!r||!r.stops.length)return void(i.style.display="none");"linear"===r.type?o.style.removeProperty("display"):o.style.display="none",i.style.removeProperty("display");const s=r.angle||0;n.style.setProperty("--angle",`${s}turn`);const l=L(r,!0);e.style.setProperty("--current-gradient",l),e.innerHTML="",e.append(...$e(this,we,Se).call(this)),e.classList.toggle(`${t.gradient}_disabled`,r.stops.length>=15)}function Le(){document.addEventListener("pointermove",this.handleDocumentPointerMoveAngle),document.addEventListener("pointerup",this.handleDocumentPointerUp),document.documentElement.style.userSelect="none",document.documentElement.style.webkitUserSelect="none"}function xe(e){const n=e.target.closest(`.${t.gradient}__marker`),i=parseInt(n.dataset.index,10),{currentValues:o,colorUpdateTrigger:r}=this.props,{gradient:s}=o;if(i!==s.stops.findIndex((e=>{let{active:t}=e;return t}))){s.stops.forEach((e=>e.active=!1));const e=s.stops[i];e.active=!0,o.color=e.color,o.opacity=e.opacity,r.trigger()}this.pointerDownStartPos=e.clientX,document.addEventListener("pointermove",this.handleDocumentPointerMoveMarker),document.addEventListener("pointerup",this.handleDocumentPointerUp),document.documentElement.style.userSelect="none",document.documentElement.style.webkitUserSelect="none"}function Me(e){const{key:n,shiftKey:i,target:o}=e,{currentValues:r,colorChangeTrigger:s,colorUpdateTrigger:l}=this.props,{gradientLine:a}=this.elements,{gradient:c}=r;if(!c||!c.stops.length)return;const{stops:d}=c,h=d.find((e=>{let{active:t}=e;return t}))||d[0];if(["ArrowLeft","ArrowRight"].includes(n)){const e="ArrowLeft"===n?-1:1,o=i?.05*e:.01*e,r=N(0,h.position+o,1);h.position=r,d.sort(((e,t)=>e.position-t.position)),s.trigger(),window.setTimeout((()=>{const e=a.querySelector(`.${t.gradient}__marker_selected`);e&&e.focus()}),0)}if("Backspace"===n&&d.length>2){const e=d.indexOf(h),n=e>0?d[e-1]:null,i=e<d.length-1?d[e+1]:null;d.splice(e,1),n?(n.active=!0,r.color=n.color,r.opacity=n.opacity):i&&(i.active=!0,r.color=i.color,r.opacity=i.opacity),s.trigger(),window.setTimeout((()=>{const e=a.querySelector(`.${t.gradient}__marker_selected`);e&&e.focus()}),0)}if(["ArrowUp","ArrowDown"].includes(n)){const i=parseInt(o.dataset.index,10),s="ArrowDown"===n;if(!i&&s||i===c.stops.length-1&&!s)return;e.preventDefault();const d=s?i-1:i+1,h=c.stops[d];c.stops.forEach((e=>e.active=!1)),h.active=!0,r.color=h.color,r.opacity=h.opacity,l.trigger(),window.setTimeout((()=>{const e=a.querySelector(`.${t.gradient}__marker_selected`);e&&e.focus()}),0)}}function Oe(e){const{gradientLine:n}=this.elements;if(e.target!==n)return;const{currentValues:i}=this.props,{gradient:o}=i;if(!o||o.stops.length>=15)return;const{left:r,width:s}=n.getBoundingClientRect(),l=r+s,{clientX:a}=e;let c=N(0,(a-r)/(l-r),1);c=parseFloat(c.toFixed(3));const{stops:d}=o;let h=null,p=null;if(d.forEach((e=>{e.position<c&&(h&&h.position<=e.position||!h)&&(h=e),e.position>c&&(p&&p.position>=e.position||!p)&&(p=e),e.active=!1})),!h&&!p)return;const u={color:null,opacity:null,position:c,active:!0};if(h)if(p){const e=(c-h.position)/(p.position-h.position),t=b(h.color),n=b(p.color),i=[];for(let o=0;o<3;o++){const r=Math.round(t[o]+(n[o]-t[o])*e);i.push(r)}u.color=C(i);const o=null!==h.opacity?h.opacity:1,r=null!==p.opacity?p.opacity:1;u.opacity=o+(r-o)*e;const s=d.indexOf(p);d.splice(s,0,u)}else{u.color=h.color,u.opacity=h.opacity;const e=d.indexOf(h);d.splice(e+1,0,u)}else{u.color=p.color,u.opacity=p.opacity;const e=d.indexOf(p);d.splice(e,0,u)}i.color=u.color,i.opacity=u.opacity,this.props.colorChangeTrigger.trigger(),window.setTimeout((()=>{const e=n.querySelector(`.${t.gradient}__marker_selected`);e&&e.focus()}),0)}function Ue(e){e||(document.removeEventListener("pointermove",this.handleDocumentPointerMoveMarker),document.removeEventListener("pointermove",this.handleDocumentPointerMoveAngle),document.removeEventListener("pointerup",this.handleDocumentPointerUp),document.documentElement.style.removeProperty("user-select"),document.documentElement.style.removeProperty("-webkit-user-select"))}function Ne(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function Ve(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var We=new WeakSet,Ae=new WeakSet,Ie=new WeakSet;class Ge{constructor(e){Ne(this,Ie),Ne(this,Ae),Ne(this,We),this.props=e,this.props.colorUpdateTrigger.on(Ve(this,Ae,Re).bind(this))}render(){const{className:e,controls:n,isGradientOpacityOnly:i,isOpacityEnabled:o}=this.props,{gradient:r}=this.props.currentValues;let s=`${t.panel}__range`;e&&(s+=` ${e}`);const l="hue"===n?.001:.01,a=o&&(i&&r||!i);return this.element=p`
            <input
                type="range"
                className=${s}
                min="0"
                max="1"
                step=${l}
                onInput=${Ve(this,We,Fe).bind(this)}
                onKeydown=${Ve(this,Ie,je).bind(this)}
                style=${"opacity"!==n||a?void 0:"display:none;"}
            />
        `,Ve(this,Ae,Re).call(this),this.element}}function Fe(){const e=parseFloat(this.element.value),{controls:t,currentValues:n,colorChangeTrigger:i}=this.props;if("opacity"===t&&x(n,n.color,e),"hue"===t){const t=n.color||[0,0,0];t[0]=e,x(n,t,n.opacity)}i.trigger()}function Re(){const{controls:e,currentValues:t,isGradientOpacityOnly:n,colorChangeTrigger:i,isOpacityEnabled:o}=this.props;if("opacity"===e&&!o)return;const{color:r,opacity:s}=t;"opacity"===e&&(this.element.value=V(s)?s:1,n&&!t.gradient?(this.element.style.display="none",V(t.opacity)&&(t.opacity=null,i.trigger())):this.element.style.removeProperty("display")),"hue"===e&&(this.element.value=r?r[0]:0)}function je(e){const{key:t,shiftKey:n}=e;if("Enter"===t&&e.preventDefault(),["ArrowLeft","ArrowRight"].includes(t)){e.preventDefault();const i="ArrowRight"===t?1:-1,o=n?.05:.01,{value:r}=this.element,{controls:s}=this.props;let l=parseFloat(r);l=V(l)?l:"opacity"===s?1:0;const a=N(0,l+o*i,1);this.element.value=a,this.element.dispatchEvent(new Event("input"))}}function Be(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function ze(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var Ke=new WeakSet,He=new WeakSet;class Xe{constructor(e){Be(this,He),Be(this,Ke),this.props=e,e.colorUpdateTrigger&&e.colorUpdateTrigger.on(y(ze(this,Ke,qe).bind(this),50)),e.panelToggleTrigger.on(ze(this,He,Ye).bind(this)),this.handleDocKeyDown=this.handleDocKeyDown.bind(this),this.handleDocPointerDown=this.handleDocPointerDown.bind(this)}render(){const{className:e,options:n,onChange:i,bindTo:o}=this.props,r=[ze(this,Ke,qe).bind(this)];"function"==typeof i&&r.push(i);let s=`${t.panel}__select`;if(e&&(s+=` ${e}`),this.element=p`
            <select className=${s} onChange=${r}>
                ${n.map((e=>{let{value:t,label:n,selected:i}=e;return p`
                        <option value=${t} selected=${i||void 0}>${n}</option>
                    `}))}
            </select>
        `,o){const[e,t]=o;e[t]=this.element}return ze(this,Ke,qe).call(this),this.element}handleDocKeyDown(e){window.setTimeout((()=>{this.element.classList.toggle(`${t.panel}__select_focus`,document.activeElement===this.element&&"Tab"===e.key)}),0)}handleDocPointerDown(){this.element.classList.remove(`${t.panel}__select_focus`)}}function qe(){const e=this.element,t=e.selectedOptions[0],n=p`
            <div className="select-helper">${t.innerText}</div>
        `;document.body.append(n),setTimeout((()=>{e.style.width=`${n.offsetWidth}px`,n.remove()}),0)}function Ye(e){e?(document.addEventListener("keydown",this.handleDocKeyDown),document.addEventListener("pointerdown",this.handleDocPointerDown)):(document.removeEventListener("keydown",this.handleDocKeyDown),document.removeEventListener("pointerdown",this.handleDocPointerDown),this.element.classList.remove(`${t.panel}__select_focus`))}function Je(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function Ze(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var Qe=new WeakSet,et=new WeakSet,tt=new WeakSet,nt=new WeakSet;class it{constructor(e){Je(this,nt),Je(this,tt),Je(this,et),Je(this,Qe),this.props=e,this.props.colorModeUpdateTrigger.on(Ze(this,et,rt).bind(this)),this.props.colorUpdateTrigger.on(Ze(this,nt,lt).bind(this)),this.elements={}}render(){const{isOpacityEnabled:e,isGradientOpacityOnly:n,colorMode:i,currentValues:o,colorChangeTrigger:r,colorUpdateTrigger:s,panelToggleTrigger:l,lang:a}=this.props,{gradient:c}=o,d=e&&(n&&c||!n),h="function"==typeof window.EyeDropper&&d,u="function"==typeof window.EyeDropper&&!h;this.elements.eyeDropperButton=p`
            <button
                className=${`${t.panel}__eyedropper`}
                onClick=${Ze(this,Qe,ot).bind(this)}
                tooltip=${m("pick_color",a)}
                type="button"
            ></button>
        `;const g=["hex","rgb","hsl"].map((e=>({value:e,label:e.toUpperCase(),selected:i.mode===e}))),y=p`
            <div className=${`${t.panel}__inputs`}>
                <div className=${`${t.panel}__range-outer`} bindTo=${[this.elements,"rangeContainer"]}>
                    <div className=${`${t.panel}__range-container`}>
                        <${Ge}
                            className=${`${t.panel}__range_hue`}
                            controls="hue"
                            currentValues=${o}
                            colorChangeTrigger=${r}
                            colorUpdateTrigger=${s}
                        />
                        <${Ge}
                            className=${`${t.panel}__range_opacity`}
                            controls="opacity"
                            currentValues=${o}
                            colorChangeTrigger=${r}
                            colorUpdateTrigger=${s}
                            isGradientOpacityOnly=${n}
                            isOpacityEnabled=${e}
                        />
                    </div>
                    ${h?this.elements.eyeDropperButton:""}
                </div>
                <div className=${`${t.panel}__modes`} bindTo=${[this.elements,"modesContainer"]}>
                    <${Xe}
                        className=${`${t.panel}__modes-select`}
                        options=${g}
                        onChange=${Ze(this,tt,st).bind(this)}
                        panelToggleTrigger=${l}
                    />
                    <div
                        className=${`${t.panel}__modes-inputs`}
                        data-mode="hex"
                        style=${"hex"===i.mode?void 0:"display:none;"}
                        bindTo=${[this.elements,"hexContainer"]}
                    >
                        <${ue}
                            controls="hex"
                            currentValues=${o}
                            colorChangeTrigger=${r}
                            colorUpdateTrigger=${s}
                        />
                        <${ue}
                            controls="opacity"
                            className=${`${t.panel}__input_opacity`}
                            currentValues=${o}
                            colorChangeTrigger=${r}
                            colorUpdateTrigger=${s}
                            isGradientOpacityOnly=${n}
                            isOpacityEnabled=${e}
                        />
                    </div>
                    <div
                        className=${`${t.panel}__modes-inputs`}
                        data-mode="rgb"
                        style=${"rgb"===i.mode?void 0:"display:none;"}
                        bindTo=${[this.elements,"rgbContainer"]}
                    >
                        <${ue}
                            controls="red"
                            currentValues=${o}
                            colorChangeTrigger=${r}
                            colorUpdateTrigger=${s}
                        />
                        <${ue}
                            controls="green"
                            currentValues=${o}
                            colorChangeTrigger=${r}
                            colorUpdateTrigger=${s}
                        />
                        <${ue}
                            controls="blue"
                            currentValues=${o}
                            colorChangeTrigger=${r}
                            colorUpdateTrigger=${s}
                        />
                        <${ue}
                            controls="opacity"
                            className=${`${t.panel}__input_opacity`}
                            currentValues=${o}
                            colorChangeTrigger=${r}
                            colorUpdateTrigger=${s}
                            isGradientOpacityOnly=${n}
                            isOpacityEnabled=${e}
                        />
                    </div>
                    <div
                        className=${`${t.panel}__modes-inputs`}
                        data-mode="hsl"
                        style=${"hsl"===i.mode?void 0:"display:none;"}
                        bindTo=${[this.elements,"hslContainer"]}
                    >
                        <${ue}
                            controls="hue"
                            currentValues=${o}
                            colorChangeTrigger=${r}
                            colorUpdateTrigger=${s}
                        />
                        <${ue}
                            controls="saturation"
                            currentValues=${o}
                            colorChangeTrigger=${r}
                            colorUpdateTrigger=${s}
                        />
                        <${ue}
                            controls="luma"
                            currentValues=${o}
                            colorChangeTrigger=${r}
                            colorUpdateTrigger=${s}
                        />
                        <${ue}
                            controls="opacity"
                            className=${`${t.panel}__input_opacity`}
                            currentValues=${o}
                            colorChangeTrigger=${r}
                            colorUpdateTrigger=${s}
                            isGradientOpacityOnly=${n}
                            isOpacityEnabled=${e}
                        />
                    </div>
                    ${u?this.elements.eyeDropperButton:""}
                </div>
            </div>
        `;return this.elements.container=y,y}}function ot(){if("function"!=typeof window.EyeDropper)return;const e=new window.EyeDropper,t="/page/"===window.location.pathname?document.getElementById("closelayer"):null;t&&(t.style.backgroundColor="transparent"),e.open().then((e=>{t&&t.style.removeProperty("background-color");const n=w(e.sRGBHex),{currentValues:i,colorChangeTrigger:o}=this.props;x(i,n,null),o.trigger()})).catch((()=>{t&&t.style.removeProperty("background-color")}))}function rt(){const e=this.props.colorMode.mode;["hex","rgb","hsl"].forEach((t=>{const n=this.elements[`${t}Container`];t===e?n.style.removeProperty("display"):n.style.display="none"}))}function st(e){const{value:t}=e.target;this.props.colorMode.mode=t}function lt(){const{isOpacityEnabled:e,isGradientOpacityOnly:t}=this.props,{gradient:n}=this.props.currentValues,{eyeDropperButton:i,rangeContainer:o,modesContainer:r}=this.elements,s=e&&(t&&n||!t),l="function"==typeof window.EyeDropper&&s,a="function"==typeof window.EyeDropper&&!l;l||a||!i.parentElement?l&&i.parentElement!==o?o.append(i):a&&i.parentElement!==r&&r.append(i):i.remove()}function at(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function ct(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var dt=new WeakSet,ht=new WeakSet,pt=new WeakSet,ut=new WeakSet,gt=new WeakSet,mt=new WeakSet,yt=new WeakSet,ft=new WeakSet,vt=new WeakSet,$t=new WeakSet,wt=new WeakSet,bt=new WeakSet,_t=new WeakSet,Tt=new WeakSet,Et=new WeakSet,Ct=new WeakSet,kt=new WeakSet,Pt=new WeakSet,St=new WeakSet,Dt=new WeakSet;class Lt{constructor(e){at(this,Dt),at(this,St),at(this,Pt),at(this,kt),at(this,Ct),at(this,Et),at(this,Tt),at(this,_t),at(this,bt),at(this,wt),at(this,$t),at(this,vt),at(this,ft),at(this,yt),at(this,mt),at(this,gt),at(this,ut),at(this,pt),at(this,ht),at(this,dt),this.props=e,this.elements={libraryContainers:{}},this.savedColors=[],this.props.panelToggleTrigger.on(ct(this,Dt,Yt).bind(this)),this.handleDocumentPointerMove=this.handleDocumentPointerMove.bind(this),this.handleDocumentPointerUp=this.handleDocumentPointerUp.bind(this)}render(){const{isGradientsEnabled:e,noDocumentColors:n,panelToggleTrigger:i,lang:r}=this.props,s=window.localStorage.getItem("tColorpickerLibrary");let l=s&&o[s]||"document_colors";e||"tilda_gradients"!==l||(l="document_colors"),n&&"document_colors"===l&&(l="saved_colors");const a=["document_colors","saved_colors","tilda_colors","tilda_gradients"].map((e=>({label:m(e,r),value:e,selected:l===e})));n&&a.shift(),e||a.pop();const c=p`
            <div className=${`${t.panel}__library`}>
                <${Xe}
                    className=${`${t.panel}__library-select`}
                    options=${a}
                    onChange=${ct(this,Ct,Kt).bind(this)}
                    panelToggleTrigger=${i}
                    bindTo=${[this.elements,"librarySelect"]}
                />
                ${n?"":p`
                          <div
                              className=${`${t.panel}__swatches`}
                              data-lib="document_colors"
                              style=${"document_colors"===l?void 0:"display:none;"}
                              bindTo=${[this.elements.libraryContainers,"document_colors"]}
                          >
                              ${m("loading",r)}
                          </div>
                      `}
                <div
                    className=${`${t.panel}__swatches`}
                    data-lib="saved_colors"
                    style=${"saved_colors"===l?void 0:"display:none;"}
                    bindTo=${[this.elements.libraryContainers,"saved_colors"]}
                >
                    ${m("loading",r)}
                </div>
                <div
                    className=${`${t.panel}__tcolors`}
                    data-lib="tilda_colors"
                    style=${"tilda_colors"===l?void 0:"display:none;"}
                    bindTo=${[this.elements.libraryContainers,"tilda_colors"]}
                >
                    ${m("loading",r)}
                </div>
                ${e?p`
                          <div
                              className=${`${t.panel}__tcolors`}
                              data-lib="tilda_gradients"
                              style=${"tilda_gradients"===l?void 0:"display:none;"}
                              bindTo=${[this.elements.libraryContainers,"tilda_gradients"]}
                          >
                              ${m("loading",r)}
                          </div>
                      `:""}
            </div>
        `;return this.elements.container=c,ct(this,mt,Vt).call(this),ct(this,ft,At).call(this),n||ct(this,yt,Wt).call(this),c}handleDocumentPointerMove(e){const{clientX:t}=e,{navContainer:n}=this.elements,i=this.navPointerStartPos-t;this.navPointerStartPos=t,n.scrollLeft+=i}handleDocumentPointerUp(){document.removeEventListener("pointermove",this.handleDocumentPointerMove),document.removeEventListener("pointerup",this.handleDocumentPointerUp),document.documentElement.style.removeProperty("user-select"),document.documentElement.style.removeProperty("-webkit-user-select")}}function xt(e){const t=this.elements.libraryContainers.document_colors;t.innerHTML="";const n=e.map((e=>ct(this,bt,Rt).call(this,e)));n.length&&t.append(...n)}function Mt(){const{isGradientsEnabled:e,noDocumentColors:t}=this.props,{librarySelect:n}=this.elements,i=this.elements.libraryContainers.document_colors,r=n.querySelector('option[value="document_colors"]'),s=i&&!i.childElementCount,l=window.localStorage.getItem("tColorpickerLibrary")||n.value;let a=l&&o[l]||"document_colors";e||"tilda_gradients"!==a||(a="document_colors"),(t||s)&&"document_colors"===a&&(a="saved_colors"),r&&(r.disabled=s),n.value!==a&&(n.value=a,n.dispatchEvent(new Event("change")))}function Ot(){const{lang:e}=this.props,n=this.elements.libraryContainers.saved_colors;n.innerHTML="";const i=this.savedColors.map((e=>ct(this,bt,Rt).call(this,e,!0))),o=p`
            <button
                type="button"
                className=${`${t.panel}__add-swatch`}
                onClick=${ct(this,_t,jt).bind(this)}
                style=${`${this.savedColors.length<l?void 0:"display:none;"}`}
                bindTo=${[this.elements,"addButton"]}
                tooltip=${m("save_color",e)}
            ></button>
        `;i.push(o),n.append(...i),ct(this,wt,Ft).call(this)}function Ut(e){const{lang:n}=this.props,i=this.elements.libraryContainers.tilda_colors;i.innerHTML="",this.elements.colorLists={},this.elements.navItems={};const o=e.colors[0],r=p`
            <div className=${`${t.panel}__tcolors-wrapper`}>
                <div className=${`${t.panel}__tcolors-nav-wrapper`}>
                    <div
                        className=${`${t.panel}__tcolors-nav`}
                        bindTo=${[this.elements,"navContainer"]}
                        onScroll=${ct(this,Pt,Xt).bind(this)}
                        onPointerDown=${ct(this,St,qt).bind(this)}
                    >
                        ${a.map(((e,i)=>{const r={EN:{[e]:o[e].name_en},RU:{[e]:o[e].name}};return p`
                                <button
                                    type="button"
                                    className=${`${t.panel}__tcolors-nav-item${i?"":` ${t.panel}__tcolors-nav-item_active`}`}
                                    data-group=${e}
                                    onClick=${ct(this,kt,Ht).bind(this)}
                                    bindTo=${[this.elements.navItems,e]}
                                >
                                    ${m(e,n,r)}
                                </button>
                            `}))}
                    </div>
                </div>
                ${a.map(((e,n)=>{const i=o[e].hex;return p`
                        <div
                            className=${`${t.panel}__tcolors-list`}
                            data-group=${e}
                            style=${n?"display:none;":void 0}
                            bindTo=${[this.elements.colorLists,e]}
                        >
                            ${i.map((e=>ct(this,bt,Rt).call(this,e)))}
                        </div>
                    `}))}
            </div>
        `;i.append(r)}function Nt(e){const n=this.elements.libraryContainers.tilda_gradients;n.innerHTML="";const i=e.gradients,o=p`
            <div className=${`${t.panel}__tcolors-wrapper`}>
                <div className=${`${t.panel}__tcolors-list ${t.panel}__tcolors-list_gradients`}>
                    ${i.map((e=>{const t=L({type:"linear",stops:[{color:w(e.hex1),position:0,opacity:1},{color:w(e.hex2),position:1,opacity:1}],angle:0});return ct(this,bt,Rt).call(this,t)}))}
                </div>
            </div>
        `;n.append(o)}async function Vt(){const{isGradientsEnabled:e,lang:t}=this.props,n=JSON.parse(window.localStorage.getItem("tildacolors"));if(n&&Date.now()-n.timestamp<s)return ct(this,ut,Ut).call(this,n),void(e&&ct(this,gt,Nt).call(this,n));try{const t=await fetch(r),n=await t.json();n.timestamp=Date.now(),window.localStorage.setItem("tildacolors",JSON.stringify(n)),ct(this,ut,Ut).call(this,n),e&&ct(this,gt,Nt).call(this,n)}catch(e){console.error(e);const{tilda_colors:n,tilda_gradients:i}=this.elements.libraryContainers;n.innerText=m("load_error",t),i&&(i.innerText=m("load_error",t))}}function Wt(){const{isOpacityEnabled:e,isGradientOpacityOnly:t,isGradientsEnabled:n}=this.props,i=function(e,t,n){const i=[];return document.querySelectorAll(".t396 .tn-elem, .tn-artboard .tn-elem").forEach((n=>{const o=n.querySelector(".tn-atom");if(!o)return;const r=n.getAttribute("data-elem-type");if("button"===r||"shape"===r||"text"===r||"image"===r||"video"===r||"tooltip"===r){const n=M(o,e,t);i.push(...n)}})),document.querySelectorAll(['.record div[id^="rec"]','.record div[id^="rec"] [field="title"]','.record div[id^="rec"] [field="title"] *','.record div[id^="rec"] [field="descr"]','.record div[id^="rec"] [field="descr"] *','.record div[id^="rec"] [field="text"]','.record div[id^="rec"] [field="text"] *','.record div[id^="rec"] [field="subtitle"]','.record div[id^="rec"] [field="subtitle"] *','.record div[id^="rec"] .t-name','.record div[id^="rec"] .t-name *','.record div[id^="rec"] .t-menu__link-item','.record div[id^="rec"] .t-title','.record div[id^="rec"] .t-title *','.record div[id^="rec"] .t-descr','.record div[id^="rec"] .t-descr *','.record div[id^="rec"] .t-btn','.record div[id^="rec"] .t-btn *','.record div[id^="rec"] a','.record div[id^="rec"] a *'].join(",")).forEach((o=>{const r=M(o,e,t,n);i.push(...r)})),[...new Set(i)]}(e,t,n);ct(this,dt,xt).call(this,i)}function At(){const{swatchesKey:e}=this.props;if(!e)return this.savedColors=[],ct(this,pt,Ot).call(this);const t=JSON.parse(localStorage.getItem("tMinicolors"))||{};this.savedColors=Array.isArray(t[e])?t[e]:[],ct(this,pt,Ot).call(this)}function It(e){const{isOpacityEnabled:t,isGradientOpacityOnly:n,isGradientsEnabled:i}=this.props,o=e.includes("gradient");if(o&&!i)return!1;const r=o?v(e):f(e);if(o){return!!!r.stops.find((e=>{let{opacity:t}=e;return V(t)&&t<1}))||t}{const e=r[3];return!(V(e)&&e<1)||t&&!n}}function Gt(e){const{currentValues:t,colorChangeTrigger:n}=this.props,{target:i,shiftKey:o}=e,{color:r}=i.dataset,s=r.includes("gradient"),l=s?v(r):f(r);if(l){if(s)t.gradient=l,t.color=l.stops[0].color,t.opacity=l.stops[0].opacity;else{const e=4===l.length?l.pop():null;x(t,l,e,!o)}n.trigger()}}function Ft(){g(e).then((()=>{if("function"!=typeof window.TSortableLite)throw new TypeError("TSortableLite is not defined");const e=this.elements.libraryContainers.saved_colors,n=e.closest(`.${t.panel}`);let o=null;const{addButton:r}=this.elements;this.sortable&&this.sortable.destroy(),this.sortable=new window.TSortableLite(e,{...i,onStart:()=>{o=n.getBoundingClientRect()},onMove:e=>{const n=e.draggingElement,i=e.originalEvent.clientX,r=e.originalEvent.clientY,s=o.left,l=s+o.width,a=o.top,c=a+o.height;if(i>=s&&i<=l&&r>=a&&r<=c){document.documentElement.style.removeProperty("cursor");this.sortable._dragImage.style.removeProperty("cursor"),n.classList.remove(`${t.panel}__swatch_del`)}else{document.documentElement.style.cursor="no-drop",n.classList.add(`${t.panel}__swatch_del`);this.sortable._dragImage.style.cursor="no-drop"}},onDrop:e=>{const n=e.draggingElement;n.classList.contains(`${t.panel}__swatch_del`)&&(n.remove(),r.style.removeProperty("display")),ct(this,Et,zt).call(this)},onEnd:e=>{const n=e.draggingElement;document.documentElement.style.removeProperty("cursor"),n.classList.contains(`${t.panel}__swatch_del`)&&(n.remove(),r.style.removeProperty("display"),ct(this,Et,zt).call(this))}}),this.sortable.init()})).catch((e=>{console.error(e)}))}function Rt(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{lang:i}=this.props;return p`
            <button
                type="button"
                className=${`${t.panel}__swatch`}
                style=${`background:${e};${ct(this,vt,It).call(this,e)||!n?"":"display:none;"}`}
                data-color=${e}
                onClick=${ct(this,$t,Gt).bind(this)}
                onKeyDown=${n?ct(this,Tt,Bt).bind(this):void 0}
                tooltip=${U(e,i)}
            ></button>
        `}function jt(){const{color:e,opacity:n,gradient:i}=this.props.currentValues,{lang:o}=this.props;let r="";if(i?r=L(i)||"":e&&(r=`rgba(${_([...e,n]).join(",")})`),r){this.savedColors.push(r);const e=p`
                <button
                    type="button"
                    className=${`${t.panel}__swatch`}
                    style=${`background:${r};${ct(this,vt,It).call(this,r)?"":"display:none;"}`}
                    data-color=${r}
                    onClick=${ct(this,$t,Gt).bind(this)}
                    tooltip=${U(r,o)}
                ></button>
            `,{addButton:n}=this.elements;n.before(e),ct(this,Et,zt).call(this),this.savedColors.length>=l&&(n.style.display="none")}}function Bt(e){const{key:t,target:n}=e,{addButton:i}=this.elements;"Backspace"===t&&(n.remove(),i.style.removeProperty("display"),ct(this,Et,zt).call(this))}function zt(){const{swatchesKey:e}=this.props,n=this.elements.libraryContainers.saved_colors;this.savedColors=[...n.querySelectorAll(`.${t.panel}__swatch`)].map((e=>e.dataset.color));const i=JSON.parse(localStorage.getItem("tMinicolors"))||{};i[e]=this.savedColors,localStorage.setItem("tMinicolors",JSON.stringify(i))}function Kt(e){const{value:t}=e.target,n=Object.entries(o).find((e=>{let[,n]=e;return n===t}))[0];window.localStorage.setItem("tColorpickerLibrary",n),Object.entries(this.elements.libraryContainers).forEach((e=>{let[n,i]=e;n===t?i.style.removeProperty("display"):i.style.display="none"}))}function Ht(e){const{target:n}=e,i=`${t.panel}__tcolors-nav-item_active`;if(n.classList.contains(i))return;const{group:o}=n.dataset,{colorLists:r,navItems:s}=this.elements;a.forEach((e=>{e===o?(r[e].style.removeProperty("display"),s[e].classList.add(i)):(r[e].style.display="none",s[e].classList.remove(i))})),O({endX:n.offsetLeft,endY:0},n.parentElement)}function Xt(){const{navContainer:e}=this.elements,n=e.parentElement,i=e.scrollWidth,o=e.clientWidth,r=e.scrollLeft+o>=i-1,s=`${t.panel}__tcolors-nav-wrapper_scrolled`;r?n.classList.add(s):n.classList.remove(s)}function qt(e){this.navPointerStartPos=e.clientX,document.addEventListener("pointermove",this.handleDocumentPointerMove),document.addEventListener("pointerup",this.handleDocumentPointerUp),document.documentElement.style.userSelect="none",document.documentElement.style.webkitUserSelect="none"}function Yt(e){if(e){const{noDocumentColors:e}=this.props;ct(this,mt,Vt).call(this),ct(this,ft,At).call(this),e||ct(this,yt,Wt).call(this),ct(this,ht,Mt).call(this)}else this.sortable&&this.sortable.destroy(),this.handleDocumentPointerUp()}function Jt(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function Zt(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var Qt=new WeakSet,en=new WeakSet,tn=new WeakSet,nn=new WeakSet,on=new WeakSet,rn=new WeakSet,sn=new WeakSet,ln=new WeakSet,an=new WeakSet;class cn{constructor(e){Jt(this,an),Jt(this,ln),Jt(this,sn),Jt(this,rn),Jt(this,on),Jt(this,nn),Jt(this,tn),Jt(this,en),Jt(this,Qt),this.config=e.config,this.colorChangeTrigger=e.colorChangeTrigger,this.colorUpdateTrigger=e.colorUpdateTrigger,this.panelToggleTrigger=e.panelToggleTrigger,this.currentValues=e.currentValues,this.input=e.input,this.container=e.container,this.isOpen=!1,this.isClickStartedOnPanel=!1,this.element=null,this.focusTrap=null,this.resizeObserver=null,this.currentPosition=null,this.fromClass=null,this.currentCoords={x:0,y:0};const t=u();this.colorModeUpdateTrigger=t,this.colorMode={_mode:"hex",set mode(e){this._mode=e,t.trigger()},get mode(){return this._mode}},this.colorUpdateTrigger.on(Zt(this,rn,mn).bind(this)),this.handleDocPointerDown=this.handleDocPointerDown.bind(this),this.handleDocClick=this.handleDocClick.bind(this),this.handleDocKeyDown=this.handleDocKeyDown.bind(this),this.throttledUpdatePosition=function(e,t){let n=null;return function(){for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];window.clearTimeout(n),n=window.setTimeout((()=>{e.apply(null,o)}),t)}}(Zt(this,nn,un).bind(this),50),this.handleWindowResize=this.throttledUpdatePosition,this.handleDocPointerMoveDrag=this.handleDocPointerMoveDrag.bind(this),this.handleDocPointerUpDrag=this.handleDocPointerUpDrag.bind(this),this.handlePanelTransition=this.handlePanelTransition.bind(this)}open(){if(this.isOpen)return;const e=window.matchMedia("(max-width: 640px)").matches;this.element||(this.element=Zt(this,Qt,dn).call(this)),this.closeLayer||(this.closeLayer=Zt(this,tn,pn).call(this)),this.focusTrap||(this.focusTrap=function(e){const t=e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),n=t[0],i=t[t.length-1],o=t=>{const{key:o,shiftKey:r}=t;if("Tab"!==o)return;const{activeElement:s}=document;s&&e.contains(s)||(t.preventDefault(),r?i.focus():n.focus()),s===n&&r&&(t.preventDefault(),i.focus()),s!==i||r||(t.preventDefault(),n.focus())};return document.addEventListener("keydown",o),{release:()=>{document.removeEventListener("keydown",o)}}}(this.element));const{appendTo:n}=this.config;n.append(this.closeLayer,this.element),this.element.removeEventListener("transitionend",this.handlePanelTransition),this.isOpen=!0,this.panelToggleTrigger.trigger(!0),this.closeLayer.classList.remove(`${t.container}__close-layer_hidden`),e?this.element.classList.remove(`${t.panel}_hidden`):(Zt(this,nn,un).call(this,!0),this.resizeObserver=new ResizeObserver(Zt(this,nn,un).bind(this)),this.resizeObserver.observe(this.element),this.fromClass?(this.element.style.transition="none",this.element.classList.add(this.fromClass),window.setTimeout((()=>{this.element.style.removeProperty("transition"),this.element.classList.remove(`${t.panel}_hidden`),this.element.classList.remove(this.fromClass)}),0)):this.element.classList.remove(`${t.panel}_hidden`)),document.addEventListener("pointerdown",this.handleDocPointerDown),document.addEventListener("click",this.handleDocClick),document.addEventListener("keydown",this.handleDocKeyDown),window.addEventListener("resize",this.handleWindowResize)}close(){this.isOpen&&this.element&&(this.isOpen=!1,this.isClickStartedOnPanel=!1,this.panelToggleTrigger.trigger(!1),this.focusTrap&&this.focusTrap.release(),this.focusTrap=null,this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),document.removeEventListener("pointerdown",this.handleDocPointerDown),document.removeEventListener("click",this.handleDocClick),document.removeEventListener("keydown",this.handleDocKeyDown),window.removeEventListener("resize",this.handleWindowResize),this.handleDocPointerUpDrag(),this.currentPosition=null,this.fromClass&&this.element.classList.remove(this.fromClass),this.element.classList.add(`${t.panel}_hidden`),this.closeLayer.classList.add(`${t.container}__close-layer_hidden`),this.element.addEventListener("transitionend",this.handlePanelTransition),window.setTimeout((()=>{0===this.element.offsetWidth&&this.handlePanelTransition()}),0))}handlePanelTransition(){this.element.remove(),this.fromClass=null,this.closeLayer.remove(),this.element.removeEventListener("transitionend",this.handlePanelTransition)}handleDocPointerMoveDrag(e){const{clientX:t,clientY:n}=e,{dragStartX:i,dragStartY:o,dragStartCoords:r}=this,s=t-i,l=n-o;let{x:a,y:c}=r;a+=s,c+=l,this.currentCoords={x:a,y:c},Zt(this,nn,un).call(this,!0,!0)}handleDocPointerUpDrag(){document.removeEventListener("pointermove",this.handleDocPointerMoveDrag),document.removeEventListener("pointerup",this.handleDocPointerUpDrag),document.documentElement.style.removeProperty("user-select"),document.documentElement.style.removeProperty("-webkit-user-select"),delete this.dragStartCoords,delete this.dragStartX,delete this.dragStartY}handleDocPointerDown(e){this.isClickStartedOnPanel=this.element&&this.element.contains(e.target)}handleDocClick(e){if(this.isClickStartedOnPanel)return void(this.isClickStartedOnPanel=!1);const{target:t}=e,{element:n,input:i,container:o}=this,{activeElement:r}=document,{isNoInputMode:s}=this.config;n.contains(t)||i.contains(t)||o&&o.contains(t)||!s&&r===i||this.close()}handleDocKeyDown(e){const{key:t}=e;"Escape"===t&&this.close()}set theme(e){this.element&&this.element.classList.toggle(t.panelThemeDark,"dark"===e),this.config.theme=e}}function dn(){const{theme:e,panelZIndex:n,noDocumentColors:i,gradientHint:o,swatchesKey:r,isGradientsEnabled:s,isOpacityEnabled:l,isGradientOpacityOnly:a,isTextContrastCheckEnabled:c,isNoInputMode:d,lang:h}=this.config,{color:u,gradient:g}=this.currentValues,y=[{label:m("solid",h),value:"solid",selected:!g},{label:m("linear",h),value:"linear",selected:g&&"linear"===g.type},{label:m("radial",h),value:"radial",selected:g&&"radial"===g.type}],f=!!o.EN.gradient_hint&&g,v=u?`#${E(u)}`:"",$=p`
            <div
                className=${`${t.panel} ${t.panel}_hidden`}
                style=${`z-index:${n};--current-color:${v};`}
            >
                ${s?p`
                          <div
                              className=${`${t.panel}__head`}
                              onPointerdown=${Zt(this,on,gn).bind(this)}
                          >
                              <${Xe}
                                  className=${`${t.panel}__gradient-select`}
                                  options=${y}
                                  onChange=${Zt(this,sn,yn).bind(this)}
                                  bindTo=${[this,"gradientSelect"]}
                                  colorUpdateTrigger=${this.colorUpdateTrigger}
                                  panelToggleTrigger=${this.panelToggleTrigger}
                              />
                              ${f?Zt(this,en,hn).call(this):""}
                              <button
                                  type="button"
                                  className=${`${t.panel}__close-btn`}
                                  onClick=${this.close.bind(this)}
                                  tooltip=${m("close",h)}
                              ></button>
                          </div>
                      `:""}
                ${s?p`
                          <${Pe}
                              currentValues=${this.currentValues}
                              colorChangeTrigger=${this.colorChangeTrigger}
                              colorUpdateTrigger=${this.colorUpdateTrigger}
                              panelToggleTrigger=${this.panelToggleTrigger}
                              lang=${h}
                          />
                      `:""}
                <${H}
                    currentValues=${this.currentValues}
                    colorMode=${this.colorMode}
                    colorModeUpdateTrigger=${this.colorModeUpdateTrigger}
                    colorChangeTrigger=${this.colorChangeTrigger}
                    colorUpdateTrigger=${this.colorUpdateTrigger}
                    panelToggleTrigger=${this.panelToggleTrigger}
                    bindTo=${[this,"colorAreaElement"]}
                />
                <${it}
                    currentValues=${this.currentValues}
                    colorMode=${this.colorMode}
                    colorModeUpdateTrigger=${this.colorModeUpdateTrigger}
                    isOpacityEnabled=${l}
                    isGradientOpacityOnly=${a}
                    colorChangeTrigger=${this.colorChangeTrigger}
                    colorUpdateTrigger=${this.colorUpdateTrigger}
                    panelToggleTrigger=${this.panelToggleTrigger}
                    lang=${h}
                />
                ${c?p`
                          <${oe}
                              currentValues=${this.currentValues}
                              input=${this.input}
                              panelToggleTrigger=${this.panelToggleTrigger}
                              colorUpdateTrigger=${this.colorUpdateTrigger}
                              lang=${h}
                          />
                      `:""}
                <${Lt}
                    currentValues=${this.currentValues}
                    noDocumentColors=${i}
                    isGradientsEnabled=${s}
                    isOpacityEnabled=${l}
                    isGradientOpacityOnly=${a}
                    swatchesKey=${r}
                    colorChangeTrigger=${this.colorChangeTrigger}
                    panelToggleTrigger=${this.panelToggleTrigger}
                    lang=${h}
                />
                ${d?p`
                          <div className=${`${t.panel}__btns`}>
                              <button
                                  className=${`${t.panel}__action-btn ${t.panel}__action-btn_clear`}
                                  onClick=${Zt(this,ln,fn).bind(this)}
                                  type="button"
                              >
                                  ${m("clear",h)}
                              </button>
                              <button
                                  className=${`${t.panel}__action-btn ${t.panel}__action-btn_apply`}
                                  onClick=${Zt(this,an,vn).bind(this)}
                                  type="button"
                              >
                                  ${m("apply",h)}
                              </button>
                          </div>
                      `:""}
            </div>
        `;return"dark"===e&&$.classList.add(t.panelThemeDark),A($),$}function hn(){const{gradientHint:e,lang:n}=this.config;return p`
            <${Q}
                className=${`${t.panel}__hint_gradient`}
                hintText=${m("gradient_hint",n,e)}
                label="!"
                bindTo=${[this,"gradientHintElement"]}
            />
        `}function pn(){return p`
            <div className=${`${t.container}__close-layer ${t.container}__close-layer_hidden`}></div>
        `}function un(e,n){const i=window.matchMedia("(max-width: 640px)").matches,{colorAreaElement:o,element:r,input:s}=this;if(!r||!o||i)return;const{positionPriority:l}=this.config,[a,c,d,h]=this.config.viewboxPadding,[p,u,g,m]=this.config.panelGap,y=r.getBoundingClientRect(),f=s.getBoundingClientRect(),v=o.getBoundingClientRect(),$=document.documentElement.clientWidth,w=document.documentElement.clientHeight,{width:b,height:_}=y,T=v.top-y.top+v.height/2,E={bottom:w-f.top-f.height-g-d>=_,right:$-f.left-f.width-u-c>=b,left:f.left-m-h>=b,top:f.top-p-a>=_},C=e=>{let t=0,n=0;return"bottom"===e?(t=f.left,n=f.top+f.height+g):"right"===e?(t=f.left+f.width+u,n=f.top-T+f.height/2):"left"===e?(t=f.left-m-b,n=f.top-T+f.height/2):"top"===e&&(t=f.left,n=f.top-p-_),{x:t,y:n}};let k=this.currentCoords.x,P=this.currentCoords.y;if(!(this.currentPosition&&E[this.currentPosition]||n))for(const e of l)if(E[e]){this.fromClass=`${t.panel}_from-${e}`;const n=C(e);this.currentPosition=e,this.currentCoords=n,k=n.x,P=n.y;break}r.classList.toggle(`${t.panel}_instant-transition`,!0===e),k=N(h,k,$-b-c),P=N(a,P,w-_-d),this.currentCoords={x:k,y:P},r.style.translate=`${k}px ${P}px`}function gn(e){const n=window.matchMedia("(max-width: 640px)").matches,i=e.target.classList.contains(`${t.panel}__head`);if(n||!i)return;const{clientX:o,clientY:r}=e;this.dragStartX=o,this.dragStartY=r,this.dragStartCoords={...this.currentCoords},document.addEventListener("pointermove",this.handleDocPointerMoveDrag),document.addEventListener("pointerup",this.handleDocPointerUpDrag),document.documentElement.style.userSelect="none",document.documentElement.style.webkitUserSelect="none"}function mn(){const{gradientSelect:e,gradientHintElement:t}=this,{gradient:n,color:i}=this.currentValues,{gradientHint:o}=this.config;e&&(e.value=n?n.type:"solid");const r=!!o.EN.gradient_hint&&n;if(t?r?t.style.removeProperty("display"):t.style.display="none":r&&(this.gradientHintElement=Zt(this,en,hn).call(this),e&&e.after(this.gradientHintElement)),this.element){const e=i?`#${E(i)}`:"";this.element.style.setProperty("--current-color",e)}}function yn(){const{gradientSelect:e,currentValues:t,colorChangeTrigger:n}=this,{color:i,opacity:o,gradient:r}=t,{value:s}=e,{isOpacityEnabled:l}=this.config;if(["linear","radial"].includes(s)&&r&&(r.type=s),"solid"===s&&r){const e=r.stops.find((e=>{let{active:t}=e;return t}))||r.stops[0];t.color=e&&e.color||[0,0,0],t.opacity=e&&V(e.opacity)?e.opacity:null,t.gradient=null}if(["linear","radial"].includes(s)&&!r){const e=i||[0,0,0];t.gradient={type:s,angle:0,stops:[{color:[...e],opacity:V(o)?o:1,position:0,active:!0},{color:[...e],opacity:l?0:1,position:1}]}}n.trigger()}function fn(){const{colorChangeTrigger:e,currentValues:t}=this;t.color=null,t.opacity=null,t.gradient=null,e.trigger({isPanelButton:!0}),this.close()}function vn(){const{colorChangeTrigger:e}=this;e.trigger({isPanelButton:!0}),this.close()}class $n extends CustomEvent{constructor(e){super("paneltoggle"),this.isOpen=e}}class wn extends CustomEvent{constructor(e,t,n){super(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"colorchange"),n&&((n=JSON.parse(JSON.stringify(n))).css=L(n),"radial"===n.type&&"angle"in n&&delete n.angle,n.stops.forEach((e=>{null===e.opacity&&(e.opacity=1),"active"in e&&delete e.active}))),this.currentColor={hex:e?"#"+E(e):e,rgb:e?b(e):e,hsl:e,opacity:null===t&&e?1:t,gradient:n}}}function bn(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function _n(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var Tn=new WeakSet,En=new WeakSet,Cn=new WeakSet,kn=new WeakSet,Pn=new WeakSet,Sn=new WeakSet,Dn=new WeakSet,Ln=new WeakSet,xn=new WeakSet,Mn=new WeakSet,On=new WeakSet;function Un(){const{isOpacityEnabled:e,isGradientsEnabled:t,isGradientOpacityOnly:n,swatchesKey:i,theme:o,isNoInputMode:r,panelZIndex:s,noDocumentColors:l,panelGap:a,gradientHint:c,isTextContrastCheckEnabled:d,viewboxPadding:h,positionPriority:p,appendTo:u,lang:g}=this.config,{colorChangeTrigger:m,colorUpdateTrigger:y,panelToggleTrigger:f,currentValues:v}=this,{input:$,container:w}=this.elements;return new cn({config:{isOpacityEnabled:e,isGradientsEnabled:t,isGradientOpacityOnly:n,swatchesKey:i,theme:o,isNoInputMode:r,panelZIndex:s,noDocumentColors:l,panelGap:a,gradientHint:c,isTextContrastCheckEnabled:d,viewboxPadding:h,positionPriority:p,appendTo:u,lang:g},colorChangeTrigger:m,colorUpdateTrigger:y,panelToggleTrigger:f,currentValues:v,input:$,container:w})}function Nn(){const{input:e}=this.elements,{isNoInputMode:t,disablePanelToggleOnInputReplacementClick:n}=this.config;t?n||e.addEventListener("click",this.handleInputReplacementClick):(e.addEventListener("input",this.handleInput),e.addEventListener("focus",this.openPanel),e.addEventListener("blur",this.handleInputBlur),e.addEventListener("keydown",this.handleInputKeydown))}function Vn(e,t){const{emptyColorKeywords:n,isGradientsEnabled:i,isOpacityEnabled:o,isGradientOpacityOnly:r}=this.config,s=n.find((t=>t===e)),l=e.replace(/[^0-9A-Za-z]/g,""),{currentValues:a}=this;if(e&&l&&!s){const t=v(e);if(i&&t)o||t.stops.forEach((e=>e.opacity=1)),a.gradient=t,a.color=t.stops[0].color,a.opacity=t.stops[0].opacity;else{const t=f(e);let n=4===t.length?t.pop():null;n=o&&!r?n:null,x(a,t,n,!1)}this.emptyColorString=null}else a.color=null,a.opacity=null,a.gradient=null,this.emptyColorString=s||null;t?this.colorUpdateTrigger.trigger():this.colorChangeTrigger.trigger()}function Wn(){const{input:e}=this.elements;e.value="",e.dispatchEvent(new Event("input")),this.closePanel()}function An(){const{input:e}=this.elements;e.focus()}function In(){const{container:e}=this.elements;e.classList.add(`${t.container}_clear-btn-visible`)}function Gn(){const{container:e}=this.elements;this.panel&&this.panel.isOpen||e.classList.remove(`${t.container}_clear-btn-visible`)}function Fn(e){const{input:t}=this.elements,n=new $n(e);t.dispatchEvent(n),e||_n(this,Dn,Gn).call(this)}function Rn(){const{format:e,letterCase:t,isGradientsEnabled:n}=this.config,i=this.currentValues.color,o=this.currentValues.gradient;if(!i)return this.emptyColorString||"";let r="";if(n&&o)r=L(o);else if("hex"===e)r=`#${E(i)}`;else if("rgb"===e)r=`rgb(${b(i).join(",")})`;else if("hsl"===e){let[e,t,n]=i;e=Math.round(360*e),t=Math.round(100*t),n=Math.round(100*n),r=`hsl(${e},${t}%,${n}%)`}return"uppercase"!==t||r.includes("gradient")?r.toLowerCase():r.toUpperCase()}function jn(e){this.colorUpdateTrigger.trigger(e);const t=e&&e.isPanelButton,{isNoInputMode:n}=this.config,i=n&&t||!n?"colorchange":"colorupdate";this.dispatchColorChangeEvent(i)}function Bn(){const{isNoInputMode:e,isGradientsEnabled:n}=this.config;if(e)return;const{input:i,container:o,clearBtn:r}=this.elements,{color:s,opacity:l,gradient:a}=this.currentValues,c=this.panel&&this.panel.isOpen;let d="";n&&a?(d=L(a),this.emptyColorString=null,c&&o.classList.add(`${t.container}_clear-btn-visible`)):s&&(d=D(s,l),this.emptyColorString=null,c&&o.classList.add(`${t.container}_clear-btn-visible`)),!s&&r?r.style.display="none":r&&r.style.removeProperty("display"),o.style.setProperty("--current-color",d),document.activeElement!==i&&(i.value=_n(this,xn,Rn).call(this))}window.TColorPicker=class{constructor(e,t){bn(this,On),bn(this,Mn),bn(this,xn),bn(this,Ln),bn(this,Dn),bn(this,Sn),bn(this,Pn),bn(this,kn),bn(this,Cn),bn(this,En),bn(this,Tn),t="[object Object]"===Object.prototype.toString.call(t)?t:{};const n="[object Object]"===Object.prototype.toString.call(t.gradientHint)?t.gradientHint:{};if(n.EN="string"==typeof n.EN&&n.EN||"",n.RU="string"==typeof n.RU&&n.RU||n.EN||"",!(e instanceof Element||t.inputReplacement instanceof Element))throw new TypeError("TColorPicker input is not an Element");let i="EN";const o=Object.keys(h);o.includes(t.lang)?i=t.lang:o.includes(window.lang)&&(i=window.lang),this.config={letterCase:["lowercase","uppercase"].includes(t.letterCase)?t.letterCase:"uppercase",format:["hex","rgb","hsl"].includes(t.format)?t.format:"hex",isOpacityEnabled:!!t.isOpacityEnabled,isGradientsEnabled:!!t.isGradientsEnabled,swatchesKey:t.swatchesKey||window.projectid||null,theme:["light","dark"].includes(t.theme)?t.theme:"light",panelZIndex:V(t.panelZIndex)?t.panelZIndex:99999,emptyColorKeywords:Array.isArray(t.emptyColorKeywords)?t.emptyColorKeywords:[],noDocumentColors:!!t.noDocumentColors,swatchSize:V(t.swatchSize)&&t.swatchSize>=0?t.swatchSize:35,swatchGap:V(t.swatchGap)&&t.swatchGap>=0?t.swatchGap:13,disablePanelToggleOnInputReplacementClick:!!t.disablePanelToggleOnInputReplacementClick,isNoInputMode:t.inputReplacement instanceof Element,colorChangeDelay:V(t.colorChangeDelay)&&t.colorChangeDelay>=0?t.colorChangeDelay:50,isGradientOpacityOnly:!!t.isGradientOpacityOnly,isTextContrastCheckEnabled:!!t.isTextContrastCheckEnabled,gradientHint:{EN:{gradient_hint:n.EN},RU:{gradient_hint:n.RU}},clearBtnSize:V(t.clearBtnSize)&&t.clearBtnSize>=0?t.clearBtnSize:16,viewboxPadding:W(t.viewboxPadding,5),panelGap:W(t.panelGap,-3),positionPriority:I(t.positionPriority,["right","left","bottom"]),appendTo:t.appendTo instanceof Element?t.appendTo:document.body,lang:i},this.elements={input:t.inputReplacement||e},this.isInited=!1,this.handleInput=this.handleInput.bind(this),this.openPanel=this.openPanel.bind(this),this.handleInputBlur=this.handleInputBlur.bind(this),this.handleInputReplacementClick=this.handleInputReplacementClick.bind(this),this.handleInputKeydown=this.handleInputKeydown.bind(this),this.currentValues={color:null,opacity:null,gradient:null},this.emptyColorString=null,this.colorChangeTrigger=u(),this.colorUpdateTrigger=u(),this.panelToggleTrigger=u(),this.colorChangeTrigger.on(_n(this,Mn,jn).bind(this)),this.colorUpdateTrigger.on(_n(this,On,Bn).bind(this)),this.panelToggleTrigger.on(_n(this,Ln,Fn).bind(this)),this.dispatchColorChangeEvent=y(this.dispatchColorChangeEvent.bind(this),this.config.colorChangeDelay)}init(){if(this.isInited)return;this.isInited=!0;const{isNoInputMode:e,theme:n,clearBtnSize:i,swatchSize:o,swatchGap:r,lang:s}=this.config,{input:l}=this.elements;if(e)l.classList.add(t.container),this.elements.container=l;else{l.classList.add(t.input),l.style.paddingLeft=`${o+r}px`,l.setAttribute("inputmode","none"),l.setAttribute("autocomplete","off");const e=p`
                <div
                    className=${t.container}
                    onMouseenter=${_n(this,Sn,In).bind(this)}
                    onMouseleave=${_n(this,Dn,Gn).bind(this)}
                    style=${`--padding-right:${i+4}px;`}
                >
                    <div
                        className=${t.swatch}
                        style=${`width:${o}px;height:${o}px;`}
                        onClick=${_n(this,Pn,An).bind(this)}
                        bindTo=${[this.elements,"swatch"]}
                    ></div>
                    ${l.disabled?"":p`
                              <button
                                  className=${t.clearBtn}
                                  type="button"
                                  style=${`width:${i}px;height:${i}px;`}
                                  onClick=${_n(this,kn,Wn).bind(this)}
                                  tooltip=${m("clear",s)}
                                  bindTo=${[this.elements,"clearBtn"]}
                              ></button>
                          `}
                </div>
            `;l.after(e),e.prepend(l),"dark"===n&&e.classList.add(t.containerThemeDark),this.elements.container=e,_n(this,Cn,Vn).call(this,l.value,!0)}_n(this,En,Nn).call(this)}destroy(){if(!this.isInited)return;const{isNoInputMode:e}=this.config,{input:n,container:i}=this.elements;e?(n.removeEventListener("click",this.handleInputReplacementClick),n.classList.remove(t.container)):(i.insertAdjacentElement("beforebegin",n),i.remove(),n.removeEventListener("input",this.handleInput),n.removeEventListener("focus",this.openPanel),n.removeEventListener("blur",this.handleInputBlur),n.removeEventListener("keydown",this.handleInputKeydown),n.style.removeProperty("padding-left"),n.removeAttribute("inputmode"),n.removeAttribute("autocomplete"),n.classList.remove(t.input)),this.panel&&this.panel.close(),this.isInited=!1,this.currentValues.color=null,this.currentValues.opacity=null,this.currentValues.gradient=null}handleInputBlur(){const{input:e}=this.elements;e.value=_n(this,xn,Rn).call(this)}handleInput(){const{value:e}=this.elements.input;_n(this,Cn,Vn).call(this,e)}handleInputKeydown(e){const{key:t}=e;if("Enter"!==t)return;const{input:n}=this.elements;n.value=_n(this,xn,Rn).call(this),this.closePanel()}handleInputReplacementClick(){this.panel&&this.panel.isOpen?this.closePanel():this.openPanel()}openPanel(){this.panel&&this.panel.isOpen||(this.panel||(this.panel=_n(this,Tn,Un).call(this)),this.panel.open())}closePanel(){this.panel&&!this.panel.isOpen||!this.panel||this.panel.close()}dispatchColorChangeEvent(e){const t=this.currentValues.color,n=this.currentValues.opacity,i=this.currentValues.gradient,{input:o}=this.elements,r=new wn(t,n,i,e);o.dispatchEvent(r)}get panelElement(){return this.panel&&this.panel.element||null}get panelState(){return this.panel&&this.panel.isOpen||!1}get color(){return this.currentValues.color}get opacity(){return this.currentValues.opacity}get gradient(){const e=JSON.parse(JSON.stringify(this.currentValues.gradient));return e&&("radial"===e.type&&"angle"in e&&delete e.angle,e.stops.forEach((e=>{null===e.opacity&&(e.opacity=1),"active"in e&&delete e.active}))),e}set color(e){if(!this.isInited)return;const{emptyColorKeywords:t,isOpacityEnabled:n,isGradientOpacityOnly:i}=this.config,o=t.find((t=>t===e)),{currentValues:r}=this;if(!e||o)x(r,null,null,!1),this.emptyColorString=o||null;else{const t=f(e);let o=4===t.length?t.pop():null;o=n&&!i?o:null,x(r,t,o,!1),this.emptyColorString=null}this.colorUpdateTrigger.trigger()}set opacity(e){if(!this.isInited)return;const{currentValues:t}=this,{isOpacityEnabled:n,isGradientOpacityOnly:i}=this.config;let o=V(e)&&e<=1&&e>=0?e:t.opacity;o=n&&!i?o:null,x(t,t.color,o,!1),this.colorUpdateTrigger.trigger()}set gradient(e){const{isOpacityEnabled:t,isGradientsEnabled:n}=this.config;if(!this.isInited||!n)return;const{currentValues:i}=this;e&&Array.isArray(e.stops)&&e.stops.length?(t||e.stops.forEach((e=>e.opacity=null)),i.gradient=e,i.color=e.stops[0].color,i.opacity=e.stops[0].opacity):i.gradient=null,this.colorUpdateTrigger.trigger()}set theme(e){this.isInited&&["light","dark"].includes(e)&&(this.elements.container.classList.toggle(t.containerThemeDark,"dark"===e),this.panel&&(this.panel.theme=e),this.config.theme=e)}set panelGap(e){this.config.panelGap=W(e,-3),this.panel&&(this.panel.config.panelGap=this.config.panelGap)}static parseColor(e,t){return f(e,t)}static parseGradient(e,t){return v(e,t)}static hexToRGB(e){return $(e)}static hexToHSL(e){return w(e)}static hslToRGB(e){return b(e)}static hslToRGBA(e){return _(e)}static rgbToHEX(e){return T(e)}static hslToHEX(e){return E(e)}static rgbToHSL(e){return C(e)}static hsvToHSL(e){return k(e)}static hslToHSV(e){return P(e)}static calcRelativeLuminance(e){return S(e)}}})();