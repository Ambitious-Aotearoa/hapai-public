function td__projectcsscode__init(){var e=getUrlParameter("projectid");0<e?td__load("/projects/get/getprojectcsscode/",{comm:"getprojectcsscode",projectid:e},{ctext:"get project css code"},function(e){td__projectcsscode__objtowindow(e),td__drawGlobal({nofooter:!0}),td__projectcsscode__draw(),td__drawBreadcrumbs([{def:"myprojects"},{def:"project",prid:window.project.id,prt:window.project.title.replaceAll("&amp;","&")},{def:"ss",prid:window.project.id,tab:"ss_menu_more"},{l:"",t:tc__translate("{{edit_css_code}}","projectcsscode__dict")}]),document.title=tc__translate("{{edit_custom_css_code_title}} - Tilda","projectcsscode__dict"),td__projectcsscode__addEvents()}):td__drawpagenotfound()}function td__projectcsscode__objtowindow(e){td__common__objtowindow(e),window.userpay=cleanUndefined(e.userpay),window.userpayyear=cleanUndefined(e.userpayyear),window.projectid=e.projectid,window.project=e.project,window.owner=e.owner,window.userverified=cleanUndefined(e.userverified),window.userphone=cleanUndefined(e.userphone),window.usercountry=cleanUndefined(e.usercountry)}function td__projectcsscode__draw(){var e="",e=(e=(e=(e=(e=(e=(e+='<div class="td-code">')+'\t<div class="td-title">{{edit_custom_css_code}}</div>'+'\t<div class="td-code__buttons">')+('\t\t<button type="button" class="td-button td-button_squared td-button_white" style="margin: 0 10px 10px 0;" onClick="window.location.href = \'/projects/settings/?projectid='+window.projectid+"#tab=ss_menu_more';\">"))+"\t\t\t{{close}}"+"\t\t</button>")+'\t\t<button type="button" class="td-button td-button_squared js-btn-save" style="margin: 0 0 10px 0;">'+"\t\t\t{{save}}")+"\t\t</button>"+"\t</div>")+'\t<div id="preview" style="color:red;"></div>'+'\t<div id="oknotice" style="color:white; background-color: green; width: 100%; padding:20px; margin:20px 0px; box-sizing: border-box; border-radius: 4px; display:none;"></div>';window.owner.plan<1?e+='\t<div style="background-color:yellow; padding:20px; color:#000;">\t\t{{not_available_on_free_plan}}\t</div>':window.owner.plan<2&&""==window.owner.pay&&""==window.owner.payyear&&""==window.userpay&&""==window.userpayyear&&""==window.userverified?e+='\t<div style="background-color:yellow; padding:60px 40px; color:#000; text-align: center;">\t\t{{please_verify_email}}\t</div>':e=(e=(e+='\t<div id="formbox" class="td-code__editor td-code__editor_nohint">')+'\t\t<pre id="aceeditor_head">'+window.project.csscode+"</pre>")+'\t\t<textarea name="csscode" class="js-aceeditor" rows="15" style="opacity:0; height: 1px;">'+window.project.csscode+"</textarea>\t</div>",e+="</div>",e=tc__translate(e,"projectcsscode__dict"),document.querySelector(".td-maincontainer").innerHTML=e,document.getElementById("aceeditor_head")&&(td__projectcsscode__aceInit(),td__projectcsscode__initAutocomplete())}function td__projectcsscode__aceInit(){var t=ace.edit("aceeditor_head");t.setTheme("ace/theme/github"),t.session.setMode("ace/mode/css"),t.setAutoScrollEditorIntoView(!0),t.setOption("minLines",40),t.setOption("maxLines",40),t.session.setUseWorker(!1),t.commands.addCommand({name:"loadAutocompleteJS",bindKey:{win:"Ctrl-Space",mac:"Ctrl-Space|Command-Shift-Space"},exec:function(){t.commands.removeCommand("loadAutocompleteJS"),tc__loadJSFile("https://front.tildacdn.com/aceeditor/ext-language_tools.js",function(){td__projectcsscode__initAutocomplete()})},readOnly:!0}),window.aceeditor=t,setTimeout(function(){var e=document.getElementById("formbox"),e=e?e.getBoundingClientRect().top+window.pageYOffset:0,e=window.innerHeight-e-50;t.setOption("minLines",Math.ceil(e/16)),t.setOption("maxLines",Math.ceil(e/16))},0)}function td__projectcsscode__initAutocomplete(){document.getElementById("aceeditor_head")&&ace.edit("aceeditor_head").setOptions({enableBasicAutocompletion:!0,enableLiveAutocompletion:!0})}function td__projectcsscode__addEvents(){var e=document.querySelector(".js-btn-save");e&&e.addEventListener("click",td__projectcsscode__saveCode)}function td__projectcsscode__saveCode(){var e=window.aceeditor.getValue();td__submit("/projects/submit/",{comm:"editprojectcsscode",projectid:window.projectid,csscode:e},{preview:"#preview",btn:".js-btn-save",ctext:"save project css code"},function(e){""==e||"OK"===e?td__showBubbleNotice("The code has been saved successfully",6e3,"ok"):td__showBubbleNotice(e,6e3,"error")})}function td__projectcsscode__getDictObj(e){var t="PT"===e?{edit_css_code:"Editar código CSS",edit_custom_css_code_title:"Editar código CSS personalizado",edit_custom_css_code:"Editar código CSS personalizado",close:"Fechar",save:"Salvar",not_available_on_free_plan:'Esta função não está disponível no plano Gratuito. Por favor, atualize seu plano. <a href="/identity/plan/" style="color:#ff855d !important; font-weight: 600;">Planos e preços</a>.',please_verify_email:'O acesso a essa função é restrito. <a href="/identity/">Verifique seu endereço de e-mail</a>.'}:"ES"===e?{edit_css_code:"Editar código CSS",edit_custom_css_code_title:"Editar código personalizado CSS",edit_custom_css_code:"Editar código personalizado CSS",close:"Cerrar",save:"Guardar",not_available_on_free_plan:'Esta función no está disponible en planes gratuitos. Por favor, actualice su plan. <a href="/identity/plan/" style="color:#ff855d !important; font-weight: 600;">Planes de precios</a>.',please_verify_email:'El acceso a esta función está restringido. Por favor, <a href="/identity/">verifique su correo electrónico</a>.'}:"DE"===e?{edit_css_code:"CSS-Code bearbeiten",edit_custom_css_code_title:"Benutzerdefinierten CSS-Code bearbeiten",edit_custom_css_code:"Benutzerdefinierten CSS-Code bearbeiten",close:"Schließen",save:"Speichern",not_available_on_free_plan:'Diese Funktion ist im Free-Tarif nicht verfügbar. Bitte aktualisieren Sie. <a href="/identity/plan/" style="color:#ff855d !important; font-weight: 600;">Preise</a>.',please_verify_email:'Der Zugriff auf diese Funktion ist eingeschränkt. Bitte <a href="/identity/">verifizieren Sie Ihre E-Mail-Adresse</a>.'}:"EN"===e?{edit_css_code:"Edit CSS code",edit_custom_css_code_title:"Edit custom CSS code",edit_custom_css_code:"Edit custom CSS code",close:"Close",save:"Save",not_available_on_free_plan:"This function is not available on Free plan. Please Upgrade.",please_verify_email:'Access to this function is restricted. Please <a href="/identity/">verify your email address</a>.'}:"RU"===e?{edit_css_code:"Добавление CSS-кода",edit_custom_css_code_title:"Редактирование CSS-кода",edit_custom_css_code:"Редактирование пользовательского CSS-кода",close:"Закрыть",save:"Сохранить",not_available_on_free_plan:'Данная функция не доступна на бесплатном тарифе. <a href="/identity/plan/" style="color:#ff855d !important; font-weight: 600;">Тарифы и оплата</a>.',please_verify_email:'Доступ к этой функции ограничен. Пожалуйста, <a href="/identity/" style="color:#ff855d !important; font-weight: 600;">подтвердите ваш email</a>.'}:{};window.projectcsscode__dict||(window.projectcsscode__dict={}),window.projectcsscode__dict[e]=t}
